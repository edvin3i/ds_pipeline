<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
<script src="https://cdn.cookielaw.org/scripttemplates/otSDKStub.js" type="text/javascript"
  data-document-language="true" charset="UTF-8" data-domain-script="3e2b62ff-7ae7-4ac5-87c8-d5949ecafff5">
</script>
<script type="text/javascript">
  function OptanonWrapper() {
    var event = new Event('bannerLoaded');
    window.dispatchEvent(event);
  }
</script>
<script src="https://images.nvidia.com/aem-dam/Solutions/ot-js/ot-custom.js" type="text/javascript">
</script>

  <meta charset="utf-8">
<meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/">
<meta content="Reference guide to the NVVM compiler IR (intermediate representation) based on the LLVM IR." name="description">
<meta content="NVVM, NVVM IR, NVVM compiler, NVVM compiler IR, NVVM IR specification, NVVM specification, NVVM LLVM IR, NVVM CUDA, NVVM CUDA C compiler, NVVM GPU" name="keywords">

  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>NVVM IR Specification</title>
      <link rel="stylesheet" href="../_static/pygments.css" type="text/css">
      <link rel="stylesheet" href="../_static/css/theme.css" type="text/css">
      <link rel="stylesheet" href="../_static/copybutton.css" type="text/css">
      <link rel="stylesheet" href="../_static/design-style.b7bb847fb20b106c3d81b95245e65545.min.css" type="text/css">
      <link rel="stylesheet" href="../_static/omni-style.css" type="text/css">
      <link rel="stylesheet" href="../_static/api-styles.css" type="text/css">
    <link rel="shortcut icon" href="../_static/favicon.ico">
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="./" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/mermaid-init.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script src="../_static/design-tabs.js"></script>
        <script src="../_static/geoip/geoip.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html">
    <link rel="search" title="Search" href="search.html">
    <link rel="prev" title="Contents" href="contents.html">
 
<script src="https://assets.adobedtm.com/5d4962a43b79/c1061d2c5e7b/launch-191c2462b890.min.js"></script>
 

<link rel="stylesheet" href="../../../../common-libs/common.css">
<script src="../../../../common-libs/common.js"></script>
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
            <a href="contents.html">
            <img src="../_static/Logo_and_CUDA.png" class="logo" alt="Logo">
          </a>

<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs">
    <input type="hidden" name="check_keywords" value="yes">
    <input type="hidden" name="area" value="default">
  </form>
</div>
        </div>
<div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul class="current">
<li class="toctree-l1 current"><a class="current reference internal" href="index.html#">1. Introduction</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#identifiers">2. Identifiers</a></li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#high-level-structure">3. High Level Structure</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#linkage-types">3.1. Linkage Types</a></li>
<li class="toctree-l2">
<a class="reference internal" href="index.html#calling-conventions">3.2. Calling Conventions</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#rules-and-restrictions">3.2.1. Rules and Restrictions</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#visibility-styles">3.3. Visibility Styles</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#dll-storage-classes">3.4. DLL Storage Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#thread-local-storage-models">3.5. Thread Local Storage Models</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#runtime-preemption-specifiers">3.6. Runtime Preemption Specifiers</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#structure-types">3.7. Structure Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#non-integral-pointer-type">3.8. Non-Integral Pointer Type</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#comdats">3.9. Comdats</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#source-filename">3.10. source_filename</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#global-variables">3.11. Global Variables</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#functions">3.12. Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#aliases">3.13. Aliases</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#ifuncs">3.14. Ifuncs</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#named-metadata">3.15. Named Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#parameter-attributes">3.16. Parameter Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#garbage-collector-strategy-names">3.17. Garbage Collector Strategy Names</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#prefix-data">3.18. Prefix Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#prologue-data">3.19. Prologue Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#attribute-groups">3.20. Attribute Groups</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#function-attributes">3.21. Function Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#global-attributes">3.22. Global Attributes</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#operand-bundles">3.23. Operand Bundles</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#module-level-inline-assembly">3.24. Module-Level Inline Assembly</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#data-layout">3.25. Data Layout</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#target-triple">3.26. Target Triple</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#pointer-aliasing-rules">3.27. Pointer Aliasing Rules</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#volatile-memory-access">3.28. Volatile Memory Access</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#memory-model-for-concurrent-operations">3.29. Memory Model for Concurrent Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#atomic-memory-ordering-constraints">3.30. Atomic Memory Ordering Constraints</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#fast-math-flags">3.31. Fast-Math Flags</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#use-list-order-directives">3.32. Use-list Order Directives</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#type-system">4. Type System</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#constants">5. Constants</a></li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#other-values">6. Other Values</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#inline-assembler-expressions">6.1. Inline Assembler Expressions</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#metadata">7. Metadata</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#metadata-nodes-and-metadata-strings">7.1. Metadata Nodes and Metadata Strings</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#thinlto-summary">8. ThinLTO Summary</a></li>
<li class="toctree-l1"><a class="reference internal" href="index.html#intrinsic-global-variables">9. Intrinsic Global Variables</a></li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#instructions">10. Instructions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#terminator-instructions">10.1. Terminator Instructions</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#binary-operations">10.2. Binary Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#bitwise-binary-operations">10.3. Bitwise Binary Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#vector-operations">10.4. Vector Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#aggregate-operations">10.5. Aggregate Operations</a></li>
<li class="toctree-l2">
<a class="reference internal" href="index.html#memory-access-and-addressing-operations">10.6. Memory Access and Addressing Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#alloca-instruction">10.6.1. alloca Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#load-instruction">10.6.2. load Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#store-instruction">10.6.3. store Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#fence-instruction">10.6.4. fence Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#cmpxchg-instruction">10.6.5. cmpxchg Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#atomicrmw-instruction">10.6.6. atomicrmw Instruction</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#getelementptr-instruction">10.6.7. getelementptr Instruction</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#conversion-operations">10.7. Conversion Operations</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#other-operations">10.8. Other Operations</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#intrinsic-functions">11. Intrinsic Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#variable-argument-handling-intrinsics">11.1. Variable Argument Handling Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#accurate-garbage-collection-intrinsics">11.2. Accurate Garbage Collection Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#code-generator-intrinsics">11.3. Code Generator Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#standard-c-library-intrinsics">11.4. Standard C Library Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#bit-manipulations-intrinsics">11.5. Bit Manipulations Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#specialised-arithmetic-intrinsics">11.6. Specialised Arithmetic Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#arithmetic-with-overflow-intrinsics">11.7. Arithmetic with Overflow Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#half-precision-floating-point-intrinsics">11.8. Half Precision Floating Point Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#debugger-intrinsics">11.9. Debugger Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#exception-handling-intrinsics">11.10. Exception Handling Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#trampoline-intrinsics">11.11. Trampoline Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#masked-vector-load-and-store-intrinsics">11.12. Masked Vector Load and Store Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#masked-vector-expanding-load-and-compressing-store-intrinsics">11.13. Masked Vector Expanding Load and Compressing Store Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#experimental-vector-reduction-intrinsics">11.14. Experimental Vector Reduction Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#constrained-floating-point-intrinsics">11.15. Constrained Floating Point Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#constrained-libm-equivalent-intrinsics">11.16. Constrained libm-equivalent Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#masked-vector-gather-and-scatter-intrinsics">11.17. Masked Vector Gather and Scatter Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#memory-use-markers">11.18. Memory Use Markers</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#general-intrinsics">11.19. General Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#element-wise-atomic-memory-intrinsics">11.20. Element Wise Atomic Memory Intrinsics</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#stack-map-intrinsics">11.21. Stack Map Intrinsics</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#address-space">12. Address Space</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#address-spaces">12.1. Address Spaces</a></li>
<li class="toctree-l2">
<a class="reference internal" href="index.html#generic-pointers-and-non-generic-pointers">12.2. Generic Pointers and Non-Generic Pointers</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#generic-pointers-vs-non-generic-pointers">12.2.1. Generic Pointers vs. Non-generic Pointers</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#conversion">12.2.2. Conversion</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#no-aliasing-between-two-different-specific-address-spaces">12.2.3. No Aliasing between Two Different Specific Address Spaces</a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="index.html#the-alloca-instruction">12.3. The alloca Instruction</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#global-property-annotation">13. Global Property Annotation</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#overview">13.1. Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#representation-of-properties">13.2. Representation of Properties</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#supported-properties">13.3. Supported Properties</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#texture-and-surface">14. Texture and Surface</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#texture-variable-and-surface-variable">14.1. Texture Variable and Surface Variable</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#accessing-texture-memory-or-surface-memory">14.2. Accessing Texture Memory or Surface Memory</a></li>
</ul>
</li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#nvvm-specific-intrinsic-functions">15. NVVM Specific Intrinsic Functions</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#atomic">15.1. Atomic</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#barrier-and-memory-fence">15.2. Barrier and Memory Fence</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#address-space-conversion">15.3. Address space conversion</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#special-registers">15.4. Special Registers</a></li>
<li class="toctree-l2">
<a class="reference internal" href="index.html#texture-surface-access">15.5. Texture/Surface Access</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#texture-reads">15.5.1. Texture Reads</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#surface-loads">15.5.2. Surface Loads</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#surface-stores">15.5.3. Surface Stores</a></li>
</ul>
</li>
<li class="toctree-l2">
<a class="reference internal" href="index.html#warp-level-operations">15.6. Warp-level Operations</a><ul>
<li class="toctree-l3"><a class="reference internal" href="index.html#barrier-synchronization">15.6.1. Barrier Synchronization</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#data-movement">15.6.2. Data Movement</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#vote">15.6.3. Vote</a></li>
<li class="toctree-l3"><a class="reference internal" href="index.html#match">15.6.4. Match</a></li>
<li class="toctree-l3">
<a class="reference internal" href="index.html#matrix-operation">15.6.5. Matrix Operation</a><ul>
<li class="toctree-l4"><a class="reference internal" href="index.html#load-fragments">15.6.5.1. Load Fragments</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#store-fragments">15.6.5.2. Store Fragments</a></li>
<li class="toctree-l4"><a class="reference internal" href="index.html#matrix-multiply-and-accumulate">15.6.5.3. Matrix Multiply-and-Accumulate</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#source-level-debugging-support">16. Source Level Debugging Support</a></li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#nvvm-abi-for-ptx">17. NVVM ABI for PTX</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#id1">17.1. Linkage Types</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#parameter-passing-and-return">17.2. Parameter Passing and Return</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="index.html#revision-history">18. Revision History</a></li>
<li class="toctree-l1">
<a class="reference internal" href="index.html#notices">19. Notices</a><ul>
<li class="toctree-l2"><a class="reference internal" href="index.html#notice">19.1. Notice</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#opencl">19.2. OpenCL</a></li>
<li class="toctree-l2"><a class="reference internal" href="index.html#trademarks">19.3. Trademarks</a></li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="contents.html">NVVM IR Specification</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">


  

<li>
<a href="../index.html" class="icon icon-home"></a> »</li>
  
<li>
<span class="section-number">1. </span>Introduction</li>

      <li class="wy-breadcrumbs-aside">
      </li>
<li class="wy-breadcrumbs-aside">


  <span>v12.6 |</span>



  <a href="../pdf/NVVM_IR_Spec.pdf" class="reference external">PDF</a>



  <span>|</span>



  <a href="https://developer.nvidia.com/cuda-toolkit-archive" class="reference external">Archive</a>


  <span> </span>
</li>

  </ul>
  <hr>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <p class="rubric-h1 rubric">NVVM IR Specification</p>
<p>Reference guide to the NVVM compiler (intermediate representation) based on the LLVM IR.</p>
<section id="introduction">
<h1>
<span class="section-number">1. </span>Introduction<a class="headerlink" href="index.html#introduction" title="Permalink to this headline"></a>
</h1>
<p>NVVM IR is a compiler IR (intermediate representation) based on the LLVM IR. The NVVM IR is designed to represent GPU compute kernels (for example, CUDA kernels). High-level language front-ends, like the CUDA C compiler front-end, can generate NVVM IR. The NVVM compiler (which is based on LLVM) generates PTX code from NVVM IR.</p>
<p>NVVM IR and NVVM compilers are mostly agnostic about the source language being used. The PTX codegen part of a NVVM compiler needs to know the source language because of the difference in DCI (driver/compiler interface).</p>
<p>NVVM IR is a binary format and is based on a subset of LLVM IR bitcode format. This document uses only human-readable form to describe NVVM IR.</p>
<p>Technically speaking, NVVM IR is LLVM IR with a set of rules, restrictions, and conventions, plus a set of supported intrinsic functions. A program specified in NVVM IR is always a legal LLVM program. A legal LLVM program may not be a legal NVVM program.</p>
<p>There are three levels of support for NVVM IR.</p>
<ul class="simple">
<li><p>Supported: The feature is fully supported. Most IR features should fall into this category.</p></li>
<li><p>Accepted and ignored: The NVVM compiler will accept this IR feature, but will ignore the required semantics. This applies to some IR features that do not have meaningful semantics on GPUs and that can be ignored. Calling convention markings are an example.</p></li>
<li><p>Illegal, not supported: The specified semantics is not supported, such as a <code class="docutils literal notranslate"><span class="pre">fence</span></code> instruction. Future versions of NVVM may either support or accept and ignore IRs that are illegal in the current version.</p></li>
</ul>
<p>This document describes version 2.0 of the NVVM IR and version 3.1 of the NVVM debug metadata (see <a class="reference external" href="index.html#source-level-debugging-support">Source Level Debugging Support</a>).  The 2.0 version of NVVM IR is incompatible with the previous version 1.11.  Linking of NVVM IR Version 1.11 with 2.0 will result in compiler error.</p>
<p>The current NVVM IR is based on LLVM 7.0.1. For the complete semantics of the IR, readers of this document should check the official LLVM Language Reference Manual (<a class="reference external" href="https://releases.llvm.org/7.0.1/docs/LangRef.html">https://releases.llvm.org/7.0.1/docs/LangRef.html</a>).</p>
</section>
<section id="identifiers">
<h1>
<span class="section-number">2. </span>Identifiers<a class="headerlink" href="index.html#identifiers" title="Permalink to this headline"></a>
</h1>
<p>The name of a named global identifier must have the form:</p>
<p><code class="docutils literal notranslate"><span class="pre">@[a-zA-Z$_][a-zA-Z$_0-9]*</span></code></p>
<p>Note that it cannot contain the . character.</p>
<p><code class="docutils literal notranslate"><span class="pre">[@%]llvm.nvvm.*</span></code> and <code class="docutils literal notranslate"><span class="pre">[@%]nvvm.*</span></code> are reserved words.</p>
</section>
<section id="high-level-structure">
<h1>
<span class="section-number">3. </span>High Level Structure<a class="headerlink" href="index.html#high-level-structure" title="Permalink to this headline"></a>
</h1>
<section id="linkage-types">
<h2>
<span class="section-number">3.1. </span>Linkage Types<a class="headerlink" href="index.html#linkage-types" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">private</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">internal</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">available_externally</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linkonce</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weak</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">common</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">linkonce_odr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">weak_odr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">external</span></code></p></li>
</ul>
<p>Not supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">appending</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">extern_weak</span></code></p></li>
</ul>
<p>See <a class="reference external" href="index.html#nvvm-abi-for-ptx">NVVM ABI for PTX</a> for details on how linkage types are translated to PTX.</p>
</section>
<section id="calling-conventions">
<h2>
<span class="section-number">3.2. </span>Calling Conventions<a class="headerlink" href="index.html#calling-conventions" title="Permalink to this headline"></a>
</h2>
<p>All LLVM calling convention markings are accepted and ignored. Functions and calls are generated according to the PTX calling convention.</p>
<section id="rules-and-restrictions">
<h3>
<span class="section-number">3.2.1. </span>Rules and Restrictions<a class="headerlink" href="index.html#rules-and-restrictions" title="Permalink to this headline"></a>
</h3>
<ol class="arabic">
<li><p>When an argument with width less than 32-bit is passed, the <code class="docutils literal notranslate"><span class="pre">zeroext/signext</span></code> parameter attribute should be set. <code class="docutils literal notranslate"><span class="pre">zeroext</span></code> will be assumed if not set.</p></li>
<li><p>When a value with width less than 32-bit is returned, the <code class="docutils literal notranslate"><span class="pre">zeroext/signext</span></code> parameter attribute should be set. <code class="docutils literal notranslate"><span class="pre">zeroext</span></code> will be assumed if not set.</p></li>
<li><p>Arguments of aggregate or vector types that are passed by value can be passed by pointer with the <code class="docutils literal notranslate"><span class="pre">byval</span></code> attribute set (referred to as the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span></code> case below). The align attribute must be set if the type requires a non-natural alignment (natural alignment is the alignment inferred for the aggregate type according to the <a class="reference external" href="index.html#data-layout">Data Layout</a> section).</p></li>
<li><p>If a function has an argument of aggregate or vector type that is passed by value directly and the type has a non-natural alignment requirement, the alignment must be annotated by the global property annotation &lt;<code class="docutils literal notranslate"><span class="pre">align</span></code>, alignment&gt;, where alignment is a 32-bit integer whose upper 16 bits represent the argument position (starting from 1) and the lower 16 bits represent the alignment.</p></li>
<li><p>If the return type of a function is an aggregate or a vector that has a non-natural alignment, then the alignment requirement must be annotated by the global property annotation &lt;<code class="docutils literal notranslate"><span class="pre">align</span></code>, alignment&gt;, where the upper 16 bits is 0, and the lower 16 bits represent the alignment.</p></li>
<li><p>It is not required to annotate a function with &lt;<code class="docutils literal notranslate"><span class="pre">align</span></code>, alignment&gt; otherwise. If annotated, the alignment must match the natural alignment or the align attribute in the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span></code> case.</p></li>
<li>
<p>For an indirect call instruction of a function that has a non-natural alignment for its return value or one of its arguments that is not expressed in alignment in the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span></code> case, the call instruction must have an attached metadata of kind <code class="docutils literal notranslate"><span class="pre">callalign</span></code>. The metadata contains a sequence of <code class="docutils literal notranslate"><span class="pre">i32</span></code> fields each of which represents a non-natural alignment requirement. The upper 16 bits of an <code class="docutils literal notranslate"><span class="pre">i32</span></code> field represent the argument position (0 for return value, 1 for the first argument, and so on) and the lower 16 bits represent the alignment. The <code class="docutils literal notranslate"><span class="pre">i32</span></code> fields must be sorted in the increasing order.</p>
<p>For example,</p>
<div class="highlight-c notranslate">
<div class="highlight"><pre><span></span><span class="o">%</span><span class="n">call</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="n">call</span><span class="w"> </span><span class="o">%</span><span class="k">struct</span><span class="p">.</span><span class="n">S</span><span class="w"> </span><span class="o">%</span><span class="n">fp1</span><span class="p">(</span><span class="o">%</span><span class="k">struct</span><span class="p">.</span><span class="n">S</span><span class="o">*</span><span class="w"> </span><span class="n">byval</span><span class="w"> </span><span class="n">align</span><span class="w"> </span><span class="mi">8</span><span class="w"> </span><span class="o">%</span><span class="n">arg1p</span><span class="p">,</span><span class="w"> </span><span class="o">%</span><span class="k">struct</span><span class="p">.</span><span class="n">S</span><span class="w"> </span><span class="o">%</span><span class="n">arg2</span><span class="p">),</span><span class="o">!</span><span class="n">callalign</span><span class="w"> </span><span class="o">!</span><span class="mi">10</span><span class="w"></span>
<span class="o">!</span><span class="mi">10</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="o">!</span><span class="p">{</span><span class="n">i32</span><span class="w"> </span><span class="mi">8</span><span class="p">,</span><span class="w"> </span><span class="n">i32</span><span class="w"> </span><span class="mi">520</span><span class="p">};</span><span class="w"></span>
</pre></div>
</div>
</li>
<li><p>It is not required to have an <code class="docutils literal notranslate"><span class="pre">i32</span></code> metadata field for the other arguments or the return value otherwise. If presented, the alignment must match the natural alignment or the align attribute in the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span> <span class="pre">case</span></code>.</p></li>
<li><p>It is not required to have a <code class="docutils literal notranslate"><span class="pre">callalign</span></code> metadata attached to a direct call instruction. If attached, the alignment must match the natural alignment or the alignment in the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span></code> case.</p></li>
<li><p>The absence of the metadata in an indirect call instruction means using natural alignment or the align attribute in the <code class="docutils literal notranslate"><span class="pre">by-pointer-byval</span></code> case.</p></li>
</ol>
</section>
</section>
<section id="visibility-styles">
<h2>
<span class="section-number">3.3. </span>Visibility Styles<a class="headerlink" href="index.html#visibility-styles" title="Permalink to this headline"></a>
</h2>
<p>All styles—default, hidden, and protected—are accepted and ignored.</p>
</section>
<section id="dll-storage-classes">
<h2>
<span class="section-number">3.4. </span>DLL Storage Classes<a class="headerlink" href="index.html#dll-storage-classes" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="thread-local-storage-models">
<h2>
<span class="section-number">3.5. </span>Thread Local Storage Models<a class="headerlink" href="index.html#thread-local-storage-models" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="runtime-preemption-specifiers">
<h2>
<span class="section-number">3.6. </span>Runtime Preemption Specifiers<a class="headerlink" href="index.html#runtime-preemption-specifiers" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="structure-types">
<h2>
<span class="section-number">3.7. </span>Structure Types<a class="headerlink" href="index.html#structure-types" title="Permalink to this headline"></a>
</h2>
<p>Fully supported.</p>
</section>
<section id="non-integral-pointer-type">
<h2>
<span class="section-number">3.8. </span>Non-Integral Pointer Type<a class="headerlink" href="index.html#non-integral-pointer-type" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="comdats">
<h2>
<span class="section-number">3.9. </span>Comdats<a class="headerlink" href="index.html#comdats" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="source-filename">
<h2>
<span class="section-number">3.10. </span>source_filename<a class="headerlink" href="index.html#source-filename" title="Permalink to this headline"></a>
</h2>
<p>Accepted and ignored.</p>
</section>
<section id="global-variables">
<h2>
<span class="section-number">3.11. </span>Global Variables<a class="headerlink" href="index.html#global-variables" title="Permalink to this headline"></a>
</h2>
<p>A global variable, that is not an intrinsic global variable, may be optionally declared to reside in one of the following address spaces:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">global</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shared</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">constant</span></code></p></li>
</ul>
<p>If no address space is explicitly specified, the global variable is assumed to reside in the <code class="docutils literal notranslate"><span class="pre">global</span></code> address space with a generic address value. See <a class="reference external" href="index.html#address-space">Address Space</a> for details.</p>
<p><code class="docutils literal notranslate"><span class="pre">thread_local</span></code> variables are not supported.</p>
<p>No explicit section (except for the metadata section) is allowed.</p>
<p>Initializations of <code class="docutils literal notranslate"><span class="pre">shared</span></code> variables are not supported. Use undef initialization.</p>
</section>
<section id="functions">
<h2>
<span class="section-number">3.12. </span>Functions<a class="headerlink" href="index.html#functions" title="Permalink to this headline"></a>
</h2>
<p>The following are not supported on functions:</p>
<ul class="simple">
<li><p>Alignment</p></li>
<li><p>Explicit section</p></li>
<li><p>Garbage collector name</p></li>
<li><p>Prefix data</p></li>
<li><p>Prologue</p></li>
<li><p>Personality</p></li>
</ul>
</section>
<section id="aliases">
<h2>
<span class="section-number">3.13. </span>Aliases<a class="headerlink" href="index.html#aliases" title="Permalink to this headline"></a>
</h2>
<p>Supported only as aliases of non-kernel functions.</p>
</section>
<section id="ifuncs">
<h2>
<span class="section-number">3.14. </span>Ifuncs<a class="headerlink" href="index.html#ifuncs" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="named-metadata">
<h2>
<span class="section-number">3.15. </span>Named Metadata<a class="headerlink" href="index.html#named-metadata" title="Permalink to this headline"></a>
</h2>
<p>Accepted and ignored, except for the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">!nvvm.annotations</span></code>: see <a class="reference external" href="index.html#global-property-annotation-chapter-11">Global Property Annotation</a></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!nvvmir.version</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!llvm.dbg.cu</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">!llvm.module.flags</span></code></p></li>
</ul>
<p>The NVVM IR version is specified using a named metadata called <code class="docutils literal notranslate"><span class="pre">!nvvmir.version</span></code>. The <code class="docutils literal notranslate"><span class="pre">!nvvmir.version</span></code> named metadata may have one metadata node that contains the NVVM IR version for that module. If multiple such modules are linked together, the named metadata in the linked module may have more than one metadata node with each node containing a version. A metadata node with NVVM IR version takes either of the following forms:</p>
<ul>
<li>
<p>It may consist of two i32 values—the first denotes the NVVM IR major version number and the second denotes the minor version number. If absent, the version number is assumed to be 1.0, which can be specified as:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>!nvvmir.version = !{!0}
!0 = !{i32 1, i32 0}
</pre></div>
</div>
</li>
<li>
<p>It may consist of four i32 values—the first two denote the NVVM IR major and minor versions respectively. The third value denotes the NVVM IR debug metadata major version number, and the fourth value denotes the corresponding minor version number. If absent, the version number is assumed to be 1.0, which can be specified as:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>!nvvmir.version = !{!0}
!0 = !{i32 1, i32 0, i32 1, i32 0}
</pre></div>
</div>
</li>
</ul>
<p>The version of NVVM IR described in this document is 2.0. The version of NVVM IR debug metadata described in this document is 3.1.</p>
</section>
<section id="parameter-attributes">
<h2>
<span class="section-number">3.16. </span>Parameter Attributes<a class="headerlink" href="index.html#parameter-attributes" title="Permalink to this headline"></a>
</h2>
<p>Fully supported, except the following:</p>
<p>Accepted and ignored:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inreg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nest</span></code></p></li>
</ul>
<p>Not supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">inalloca</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swiftself</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">swifterror</span></code></p></li>
</ul>
<p>See <a class="reference external" href="index.html#calling-conventions">Calling Conventions</a> for the use of the attributes.</p>
</section>
<section id="garbage-collector-strategy-names">
<h2>
<span class="section-number">3.17. </span>Garbage Collector Strategy Names<a class="headerlink" href="index.html#garbage-collector-strategy-names" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="prefix-data">
<h2>
<span class="section-number">3.18. </span>Prefix Data<a class="headerlink" href="index.html#prefix-data" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="prologue-data">
<h2>
<span class="section-number">3.19. </span>Prologue Data<a class="headerlink" href="index.html#prologue-data" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="attribute-groups">
<h2>
<span class="section-number">3.20. </span>Attribute Groups<a class="headerlink" href="index.html#attribute-groups" title="Permalink to this headline"></a>
</h2>
<p>Fully supported. The set of supported attributes is equal to the set of attributes accepted where the attribute group is used.</p>
</section>
<section id="function-attributes">
<h2>
<span class="section-number">3.21. </span>Function Attributes<a class="headerlink" href="index.html#function-attributes" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">allocsize</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">alwaysinline</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cold</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">convergent</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inaccessiblememonly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inaccessiblemem_or_argmemonly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inlinehint</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">minsize</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">no-jump-tables</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noduplicate</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noinline</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noreturn</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">norecurse</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nounwind</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"null-pointer-is-valid"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optforfuzzing</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optnone</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">optsize</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readnone</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">readonly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">writeonly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">argmemonly</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">speculatable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">strictfp</span></code></p></li>
</ul>
<p>Not Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">alignstack</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">builtin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nonlazybind</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">naked</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nobuiltin</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noimplicitfloat</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">noredzone</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"patchable-function"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">probe-stack</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">returns_twice</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sanitize_address</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sanitize_memory</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sanitize_thread</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sanitize_hwaddress</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ssp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sspreq</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sspstrong</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"stack-probe-size"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"no-stack-arg-probe"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uwtable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">jumptable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">safestack</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">"thunk"</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">nocf_check</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shadowcallstack</span></code></p></li>
</ul>
</section>
<section id="global-attributes">
<h2>
<span class="section-number">3.22. </span>Global Attributes<a class="headerlink" href="index.html#global-attributes" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="operand-bundles">
<h2>
<span class="section-number">3.23. </span>Operand Bundles<a class="headerlink" href="index.html#operand-bundles" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="module-level-inline-assembly">
<h2>
<span class="section-number">3.24. </span>Module-Level Inline Assembly<a class="headerlink" href="index.html#module-level-inline-assembly" title="Permalink to this headline"></a>
</h2>
<p>Supported.</p>
</section>
<section id="data-layout">
<h2>
<span class="section-number">3.25. </span>Data Layout<a class="headerlink" href="index.html#data-layout" title="Permalink to this headline"></a>
</h2>
<p>Only the following data layout is supported:</p>
<ul>
<li>
<p>64-bit</p>
<p>e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-i128:128:128-f32:32:32-f64:64:64-v16:16:16-v32:32:32-v64:64:64-v128:128:128-n16:32:64</p>
</li>
</ul>
<p>The following data layouts are deprecated and will be removed in a future release.</p>
<ul>
<li>
<p>32-bit</p>
<p>e-p:32:32:32-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-i128:128:128-f32:32:32-f64:64:64-v16:16:16-v32:32:32-v64:64:64-v128:128:128-n16:32:64</p>
<p>e-p:32:32:32-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v16:16:16-v32:32:32-v64:64:64-v128:128:128-n16:32:64</p>
</li>
<li>
<p>64-bit</p>
<p>e-p:64:64:64-i1:8:8-i8:8:8-i16:16:16-i32:32:32-i64:64:64-f32:32:32-f64:64:64-v16:16:16-v32:32:32-v64:64:64-v128:128:128-n16:32:64</p>
</li>
</ul>
</section>
<section id="target-triple">
<h2>
<span class="section-number">3.26. </span>Target Triple<a class="headerlink" href="index.html#target-triple" title="Permalink to this headline"></a>
</h2>
<p>Only the following target triple is supported, where * can be any name:</p>
<ul class="simple">
<li><p>64-bit: <code class="docutils literal notranslate"><span class="pre">nvptx64-*-cuda</span></code></p></li>
</ul>
<p>The following target triple is deprecated, and will be removed in future release:</p>
<ul class="simple">
<li><p>32-bit: <code class="docutils literal notranslate"><span class="pre">nvptx-*-cuda</span></code></p></li>
</ul>
</section>
<section id="pointer-aliasing-rules">
<h2>
<span class="section-number">3.27. </span>Pointer Aliasing Rules<a class="headerlink" href="index.html#pointer-aliasing-rules" title="Permalink to this headline"></a>
</h2>
<p>Fully supported.</p>
</section>
<section id="volatile-memory-access">
<h2>
<span class="section-number">3.28. </span>Volatile Memory Access<a class="headerlink" href="index.html#volatile-memory-access" title="Permalink to this headline"></a>
</h2>
<p>Fully supported. Note that for code generation: <code class="docutils literal notranslate"><span class="pre">ld.volatile</span></code> and <code class="docutils literal notranslate"><span class="pre">st.volatile</span></code> will be generated.</p>
</section>
<section id="memory-model-for-concurrent-operations">
<h2>
<span class="section-number">3.29. </span>Memory Model for Concurrent Operations<a class="headerlink" href="index.html#memory-model-for-concurrent-operations" title="Permalink to this headline"></a>
</h2>
<p>Not applicable. Threads in an NVVM IR program must use atomic operations or barrier synchronization to communicate.</p>
</section>
<section id="atomic-memory-ordering-constraints">
<h2>
<span class="section-number">3.30. </span>Atomic Memory Ordering Constraints<a class="headerlink" href="index.html#atomic-memory-ordering-constraints" title="Permalink to this headline"></a>
</h2>
<p>Atomic loads and stores are not supported. Other atomic operations on other than 32-bit or 64-bit operands are not supported.</p>
</section>
<section id="fast-math-flags">
<h2>
<span class="section-number">3.31. </span>Fast-Math Flags<a class="headerlink" href="index.html#fast-math-flags" title="Permalink to this headline"></a>
</h2>
<p>Supported.</p>
</section>
<section id="use-list-order-directives">
<h2>
<span class="section-number">3.32. </span>Use-list Order Directives<a class="headerlink" href="index.html#use-list-order-directives" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
</section>
<section id="type-system">
<h1>
<span class="section-number">4. </span>Type System<a class="headerlink" href="index.html#type-system" title="Permalink to this headline"></a>
</h1>
<p>Fully supported, except for the following:</p>
<ul class="simple">
<li><p>Floating point types <code class="docutils literal notranslate"><span class="pre">half</span></code>, <code class="docutils literal notranslate"><span class="pre">fp128</span></code>, <code class="docutils literal notranslate"><span class="pre">x86_fp80</span></code> and <code class="docutils literal notranslate"><span class="pre">ppc_fp128</span></code> are not supported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">x86_mmx</span></code> type is not supported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">token</span></code> type is not supported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">non-integral</span> <span class="pre">pointer</span></code> type is not supported.</p></li>
</ul>
</section>
<section id="constants">
<h1>
<span class="section-number">5. </span>Constants<a class="headerlink" href="index.html#constants" title="Permalink to this headline"></a>
</h1>
<p>Fully supported, except for the following:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">Token</span> <span class="pre">constants</span></code> is not supported.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">blockaddress(@function,</span> <span class="pre">%block)</span></code> is not supported.</p></li>
<li><p>For a constant expression that is used as the initializer of a global variable <code class="docutils literal notranslate"><span class="pre">@g1</span></code>, if the constant expression contains a global identifier <code class="docutils literal notranslate"><span class="pre">@g2</span></code>, then the constant expression is supported if it can be reduced to the form of <code class="docutils literal notranslate"><span class="pre">bitcast+offset</span></code>, where offset is an integer number (including <code class="docutils literal notranslate"><span class="pre">0</span></code>)</p></li>
</ul>
</section>
<section id="other-values">
<h1>
<span class="section-number">6. </span>Other Values<a class="headerlink" href="index.html#other-values" title="Permalink to this headline"></a>
</h1>
<section id="inline-assembler-expressions">
<h2>
<span class="section-number">6.1. </span>Inline Assembler Expressions<a class="headerlink" href="index.html#inline-assembler-expressions" title="Permalink to this headline"></a>
</h2>
<p>Inline assembler of PTX instructions is supported, with the following supported constraints:</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 71%">
<col style="width: 29%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Constraint</p></th>
<th class="head"><p>Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>c</p></td>
<td><p>i8</p></td>
</tr>
<tr class="row-odd">
<td><p>h</p></td>
<td><p>i16</p></td>
</tr>
<tr class="row-even">
<td><p>r</p></td>
<td><p>i32</p></td>
</tr>
<tr class="row-odd">
<td><p>l</p></td>
<td><p>i64</p></td>
</tr>
<tr class="row-even">
<td><p>f</p></td>
<td><p>f32</p></td>
</tr>
<tr class="row-odd">
<td><p>d</p></td>
<td><p>f64</p></td>
</tr>
</tbody>
</table>
<p>The inline asm metadata <code class="docutils literal notranslate"><span class="pre">!srcloc</span></code> is accepted and ignored.</p>
<p>The inline asm dialect <code class="docutils literal notranslate"><span class="pre">inteldialect</span></code> is not supported.</p>
</section>
</section>
<section id="metadata">
<h1>
<span class="section-number">7. </span>Metadata<a class="headerlink" href="index.html#metadata" title="Permalink to this headline"></a>
</h1>
<section id="metadata-nodes-and-metadata-strings">
<h2>
<span class="section-number">7.1. </span>Metadata Nodes and Metadata Strings<a class="headerlink" href="index.html#metadata-nodes-and-metadata-strings" title="Permalink to this headline"></a>
</h2>
<p>Fully supported.</p>
<p>The following metadata are understood by the NVVM compiler:</p>
<ul class="simple">
<li><p>Specialized Metadata Nodes</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.count</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.disable</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">llvm.loop.unroll.full</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">callalign</span></code> (see <a class="reference external" href="index.html#rules-and-restrictions">Rules and Restrictions</a> for Calling Conventions)</p></li>
</ul>
<p>Module flags metadata (<code class="docutils literal notranslate"><span class="pre">llvm.module.flags</span></code>) is supported and verified, but the metadata values will be ignored.</p>
<p>All other metadata is accepted and ignored.</p>
</section>
</section>
<section id="thinlto-summary">
<h1>
<span class="section-number">8. </span>ThinLTO Summary<a class="headerlink" href="index.html#thinlto-summary" title="Permalink to this headline"></a>
</h1>
<p>Not supported.</p>
</section>
<section id="intrinsic-global-variables">
<h1>
<span class="section-number">9. </span>Intrinsic Global Variables<a class="headerlink" href="index.html#intrinsic-global-variables" title="Permalink to this headline"></a>
</h1>
<ul class="simple">
<li><p>The <code class="docutils literal notranslate"><span class="pre">llvm.used</span></code> global variable is supported.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">llvm.compiler.used</span></code> global variable is supported</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">llvm.global_ctors</span></code> global variable is not supported</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">llvm.global_dtors</span></code> global variable is not supported</p></li>
</ul>
</section>
<section id="instructions">
<h1>
<span class="section-number">10. </span>Instructions<a class="headerlink" href="index.html#instructions" title="Permalink to this headline"></a>
</h1>
<section id="terminator-instructions">
<h2>
<span class="section-number">10.1. </span>Terminator Instructions<a class="headerlink" href="index.html#terminator-instructions" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">ret</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">br</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">switch</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">unreachable</span></code></p></li>
</ul>
<p>Unsupported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">indirectbr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">invoke</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">resume</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">catchswitch</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">catchret</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cleanupret</span></code></p></li>
</ul>
</section>
<section id="binary-operations">
<h2>
<span class="section-number">10.2. </span>Binary Operations<a class="headerlink" href="index.html#binary-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">add</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fadd</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sub</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fsub</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">mul</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fmul</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">udiv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sdiv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fdiv</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">urem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">srem</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">frem</span></code></p></li>
</ul>
</section>
<section id="bitwise-binary-operations">
<h2>
<span class="section-number">10.3. </span>Bitwise Binary Operations<a class="headerlink" href="index.html#bitwise-binary-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">shl</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">lshr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ashr</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">and</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">or</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">xor</span></code></p></li>
</ul>
</section>
<section id="vector-operations">
<h2>
<span class="section-number">10.4. </span>Vector Operations<a class="headerlink" href="index.html#vector-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extractelement</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insertelement</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">shufflevector</span></code></p></li>
</ul>
</section>
<section id="aggregate-operations">
<h2>
<span class="section-number">10.5. </span>Aggregate Operations<a class="headerlink" href="index.html#aggregate-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">extractvalue</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">insertvalue</span></code></p></li>
</ul>
</section>
<section id="memory-access-and-addressing-operations">
<h2>
<span class="section-number">10.6. </span>Memory Access and Addressing Operations<a class="headerlink" href="index.html#memory-access-and-addressing-operations" title="Permalink to this headline"></a>
</h2>
<section id="alloca-instruction">
<h3>
<span class="section-number">10.6.1. </span>alloca Instruction<a class="headerlink" href="index.html#alloca-instruction" title="Permalink to this headline"></a>
</h3>
<p>The <code class="docutils literal notranslate"><span class="pre">alloca</span></code> instruction returns a generic pointer to the local address space. The <code class="docutils literal notranslate"><span class="pre">inalloca</span></code> attribute is not supported. Maximum alignment supported is 2^23. The <code class="docutils literal notranslate"><span class="pre">addrspace(&lt;num&gt;)</span></code> specifier is supported only if <code class="docutils literal notranslate"><span class="pre">num</span></code> is 0.</p>
</section>
<section id="load-instruction">
<h3>
<span class="section-number">10.6.2. </span>load Instruction<a class="headerlink" href="index.html#load-instruction" title="Permalink to this headline"></a>
</h3>
<p><code class="docutils literal notranslate"><span class="pre">load</span> <span class="pre">atomic</span></code> is not supported.</p>
</section>
<section id="store-instruction">
<h3>
<span class="section-number">10.6.3. </span>store Instruction<a class="headerlink" href="index.html#store-instruction" title="Permalink to this headline"></a>
</h3>
<p><code class="docutils literal notranslate"><span class="pre">store</span> <span class="pre">atomic</span></code> is not supported.</p>
</section>
<section id="fence-instruction">
<h3>
<span class="section-number">10.6.4. </span>fence Instruction<a class="headerlink" href="index.html#fence-instruction" title="Permalink to this headline"></a>
</h3>
<p>Not supported. Use NVVM intrinsic functions instead.</p>
</section>
<section id="cmpxchg-instruction">
<h3>
<span class="section-number">10.6.5. </span>cmpxchg Instruction<a class="headerlink" href="index.html#cmpxchg-instruction" title="Permalink to this headline"></a>
</h3>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i32</span></code>, <code class="docutils literal notranslate"><span class="pre">i64</span></code>, and <code class="docutils literal notranslate"><span class="pre">i128</span></code> types, with the following restrictions:</p>
<ul class="simple">
<li><p>The pointer must be either a global pointer, a shared pointer, or a generic pointer that points to either the global address space or the shared address space.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">weak</span></code> marker and the <code class="docutils literal notranslate"><span class="pre">failure</span> <span class="pre">ordering</span></code> are accepted and ignored.</p></li>
<li><p>The <code class="docutils literal notranslate"><span class="pre">i128</span></code> type is only supported on <code class="docutils literal notranslate"><span class="pre">compute_90</span></code> and above.</p></li>
</ul>
</section>
<section id="atomicrmw-instruction">
<h3>
<span class="section-number">10.6.6. </span>atomicrmw Instruction<a class="headerlink" href="index.html#atomicrmw-instruction" title="Permalink to this headline"></a>
</h3>
<p><code class="docutils literal notranslate"><span class="pre">nand</span></code> is not supported. The other keywords are supported for <code class="docutils literal notranslate"><span class="pre">i32</span></code>, <code class="docutils literal notranslate"><span class="pre">i64</span></code>, and <code class="docutils literal notranslate"><span class="pre">i128</span></code> types, with the following restrictions.</p>
<ul class="simple">
<li><p>The pointer must be either a global pointer, a shared pointer, or a generic pointer that points to either the <code class="docutils literal notranslate"><span class="pre">global</span></code> address space or the <code class="docutils literal notranslate"><span class="pre">shared</span></code> address space.</p></li>
<li><p>For <code class="docutils literal notranslate"><span class="pre">i128</span></code>, only <code class="docutils literal notranslate"><span class="pre">xchg</span></code> is supported, and only on <code class="docutils literal notranslate"><span class="pre">compute_90</span></code> and above.</p></li>
</ul>
</section>
<section id="getelementptr-instruction">
<h3>
<span class="section-number">10.6.7. </span>getelementptr Instruction<a class="headerlink" href="index.html#getelementptr-instruction" title="Permalink to this headline"></a>
</h3>
<p>Fully supported.</p>
</section>
</section>
<section id="conversion-operations">
<h2>
<span class="section-number">10.7. </span>Conversion Operations<a class="headerlink" href="index.html#conversion-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">trunc</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">zext</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sext</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptrunc</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fpext</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptoui</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fptosi</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">uitofp</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">sitofp</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">ptrtoint</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">inttoptr</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">addrspacecast</span> <span class="pre">..</span> <span class="pre">to</span></code></p></li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">bitcast</span> <span class="pre">..</span> <span class="pre">to</span></code></p>
<p>See <a class="reference external" href="index.html#conversion">Conversion</a> for a special use case of <code class="docutils literal notranslate"><span class="pre">bitcast</span></code>.</p>
</li>
</ul>
</section>
<section id="other-operations">
<h2>
<span class="section-number">10.8. </span>Other Operations<a class="headerlink" href="index.html#other-operations" title="Permalink to this headline"></a>
</h2>
<p>Supported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">icmp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">fcmp</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">phi</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">select</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">va_arg</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">call</span></code> (See <a class="reference external" href="index.html#calling-conventions">Calling Conventions</a> for other rules and restrictions.)</p></li>
</ul>
<p>Unsupported:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">landingpad</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">catchpad</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">cleanuppad</span></code></p></li>
</ul>
</section>
</section>
<section id="intrinsic-functions">
<h1>
<span class="section-number">11. </span>Intrinsic Functions<a class="headerlink" href="index.html#intrinsic-functions" title="Permalink to this headline"></a>
</h1>
<section id="variable-argument-handling-intrinsics">
<h2>
<span class="section-number">11.1. </span>Variable Argument Handling Intrinsics<a class="headerlink" href="index.html#variable-argument-handling-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.va_start</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.va_end</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.va_copy</span></code></p>
<p>Supported.</p>
</li>
</ul>
</section>
<section id="accurate-garbage-collection-intrinsics">
<h2>
<span class="section-number">11.2. </span>Accurate Garbage Collection Intrinsics<a class="headerlink" href="index.html#accurate-garbage-collection-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="code-generator-intrinsics">
<h2>
<span class="section-number">11.3. </span>Code Generator Intrinsics<a class="headerlink" href="index.html#code-generator-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="standard-c-library-intrinsics">
<h2>
<span class="section-number">11.4. </span>Standard C Library Intrinsics<a class="headerlink" href="index.html#standard-c-library-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.memcpy</span></code></p>
<p>Supported. Note that the constant address space cannot be used as the destination since it is read-only.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.memmove</span></code></p>
<p>Supported. Note that the constant address space cannot be used since it is read-only.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.memset</span></code></p>
<p>Supported. Note that the constant address space cannot be used since it is read-only.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.sqrt</span></code></p>
<p>Supported for float/double and vector of float/double. Mapped to PTX <code class="docutils literal notranslate"><span class="pre">sqrt.rn.f32</span></code> and <code class="docutils literal notranslate"><span class="pre">sqrt.rn.f64</span></code>.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.powi</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.sin</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.cos</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.pow</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.exp</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.exp2</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.log</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.log10</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.log2</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.fma</span></code></p>
<p>Supported for float/double and vector of float/double. Mapped to PTX <code class="docutils literal notranslate"><span class="pre">fma.rn.f32</span></code> and <code class="docutils literal notranslate"><span class="pre">fma.rn.f64</span></code></p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.fabs</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.copysign</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.floor</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.ceil</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.trunc</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.rint</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.nearbyint</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.round</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.minnum</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.maxnum</span></code></p>
<p>Not supported.</p>
</li>
</ul>
</section>
<section id="bit-manipulations-intrinsics">
<h2>
<span class="section-number">11.5. </span>Bit Manipulations Intrinsics<a class="headerlink" href="index.html#bit-manipulations-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.bitreverse</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, and <code class="docutils literal notranslate"><span class="pre">i64</span></code>.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.bswap</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, and <code class="docutils literal notranslate"><span class="pre">i64</span></code>.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.ctpop</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, <code class="docutils literal notranslate"><span class="pre">i64</span></code>, and vectors of these types.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.ctlz</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, <code class="docutils literal notranslate"><span class="pre">i64</span></code>, and vectors of these types.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.cttz</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, <code class="docutils literal notranslate"><span class="pre">i64</span></code>, and vectors of these types.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.fshl</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, and <code class="docutils literal notranslate"><span class="pre">i64</span></code>.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.fshr</span></code></p>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i8</span></code>, <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, and <code class="docutils literal notranslate"><span class="pre">i64</span></code>.</p>
</li>
</ul>
</section>
<section id="specialised-arithmetic-intrinsics">
<h2>
<span class="section-number">11.6. </span>Specialised Arithmetic Intrinsics<a class="headerlink" href="index.html#specialised-arithmetic-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.fmuladd</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.canonicalize</span></code></p>
<p>Not supported.</p>
</li>
</ul>
</section>
<section id="arithmetic-with-overflow-intrinsics">
<h2>
<span class="section-number">11.7. </span>Arithmetic with Overflow Intrinsics<a class="headerlink" href="index.html#arithmetic-with-overflow-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Supported for <code class="docutils literal notranslate"><span class="pre">i16</span></code>, <code class="docutils literal notranslate"><span class="pre">i32</span></code>, and <code class="docutils literal notranslate"><span class="pre">i64</span></code>.</p>
</section>
<section id="half-precision-floating-point-intrinsics">
<h2>
<span class="section-number">11.8. </span>Half Precision Floating Point Intrinsics<a class="headerlink" href="index.html#half-precision-floating-point-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Supported: <code class="docutils literal notranslate"><span class="pre">llvm.convert.to.fp16</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.convert.from.fp16</span></code></p>
</section>
<section id="debugger-intrinsics">
<h2>
<span class="section-number">11.9. </span>Debugger Intrinsics<a class="headerlink" href="index.html#debugger-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.dbg.addr</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.dbg.declare</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.dbg.value</span></code></p>
<p>Supported.</p>
</li>
</ul>
</section>
<section id="exception-handling-intrinsics">
<h2>
<span class="section-number">11.10. </span>Exception Handling Intrinsics<a class="headerlink" href="index.html#exception-handling-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="trampoline-intrinsics">
<h2>
<span class="section-number">11.11. </span>Trampoline Intrinsics<a class="headerlink" href="index.html#trampoline-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="masked-vector-load-and-store-intrinsics">
<h2>
<span class="section-number">11.12. </span>Masked Vector Load and Store Intrinsics<a class="headerlink" href="index.html#masked-vector-load-and-store-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="masked-vector-expanding-load-and-compressing-store-intrinsics">
<h2>
<span class="section-number">11.13. </span>Masked Vector Expanding Load and Compressing Store Intrinsics<a class="headerlink" href="index.html#masked-vector-expanding-load-and-compressing-store-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="experimental-vector-reduction-intrinsics">
<h2>
<span class="section-number">11.14. </span>Experimental Vector Reduction Intrinsics<a class="headerlink" href="index.html#experimental-vector-reduction-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="constrained-floating-point-intrinsics">
<h2>
<span class="section-number">11.15. </span>Constrained Floating Point Intrinsics<a class="headerlink" href="index.html#constrained-floating-point-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="constrained-libm-equivalent-intrinsics">
<h2>
<span class="section-number">11.16. </span>Constrained libm-equivalent Intrinsics<a class="headerlink" href="index.html#constrained-libm-equivalent-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="masked-vector-gather-and-scatter-intrinsics">
<h2>
<span class="section-number">11.17. </span>Masked Vector Gather and Scatter Intrinsics<a class="headerlink" href="index.html#masked-vector-gather-and-scatter-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="memory-use-markers">
<h2>
<span class="section-number">11.18. </span>Memory Use Markers<a class="headerlink" href="index.html#memory-use-markers" title="Permalink to this headline"></a>
</h2>
<p>Supported: <code class="docutils literal notranslate"><span class="pre">llvm.lifetime.start</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.lifetime.end</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.invariant.start</span></code>, and <code class="docutils literal notranslate"><span class="pre">llvm.invariant.end</span></code>.</p>
<p>Not supported: <code class="docutils literal notranslate"><span class="pre">llvm.launder.invariant.group</span></code>, <code class="docutils literal notranslate"><span class="pre">llvm.strip.invariant.group</span></code>.</p>
</section>
<section id="general-intrinsics">
<h2>
<span class="section-number">11.19. </span>General Intrinsics<a class="headerlink" href="index.html#general-intrinsics" title="Permalink to this headline"></a>
</h2>
<ul>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.var.annotation</span></code></p>
<p>Accepted and ignored.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.ptr.annotation</span></code></p>
<p>Accepted and ignored.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.annotation</span></code></p>
<p>Accepted and ignored.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.codeview.annotation</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.trap</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.debugtrap</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.stackguard</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.stackprotector</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.objectsize</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.expect</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.assume</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.ssa_copy</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.type.test</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.type.checked.load</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.donothing</span></code></p>
<p>Supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.experimental.deoptimize</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.experimental.guard</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.load.relative</span></code></p>
<p>Not supported.</p>
</li>
<li>
<p><code class="docutils literal notranslate"><span class="pre">llvm.sideeffect</span></code></p>
<p>Supported.</p>
</li>
</ul>
</section>
<section id="element-wise-atomic-memory-intrinsics">
<h2>
<span class="section-number">11.20. </span>Element Wise Atomic Memory Intrinsics<a class="headerlink" href="index.html#element-wise-atomic-memory-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
<section id="stack-map-intrinsics">
<h2>
<span class="section-number">11.21. </span>Stack Map Intrinsics<a class="headerlink" href="index.html#stack-map-intrinsics" title="Permalink to this headline"></a>
</h2>
<p>Not supported.</p>
</section>
</section>
<section id="address-space">
<h1>
<span class="section-number">12. </span>Address Space<a class="headerlink" href="index.html#address-space" title="Permalink to this headline"></a>
</h1>
<section id="address-spaces">
<h2>
<span class="section-number">12.1. </span>Address Spaces<a class="headerlink" href="index.html#address-spaces" title="Permalink to this headline"></a>
</h2>
<p>NVVM IR has a set of predefined memory address spaces, whose semantics are similar to those defined in CUDA C/C++, OpenCL C and PTX. Any address space not listed below is not supported .</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 23%">
<col style="width: 23%">
<col style="width: 54%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Name</p></th>
<th class="head"><p>Address Space Number</p></th>
<th class="head"><p>Semantics/Example</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>code</p></td>
<td><p>0</p></td>
<td>
<p>functions, code</p>
<ul class="simple">
<li><p>CUDA C/C++ function</p></li>
<li><p>OpenCL C function</p></li>
</ul>
</td>
</tr>
<tr class="row-odd">
<td><p>generic</p></td>
<td><p>0</p></td>
<td>
<p>Can only be used to qualify the pointee of a pointer</p>
<ul class="simple">
<li><p>Pointers in CUDA C/C++</p></li>
</ul>
</td>
</tr>
<tr class="row-even">
<td><p>global</p></td>
<td><p>1</p></td>
<td>
<ul class="simple">
<li><p>CUDA C/C++ __device__</p></li>
<li><p>OpenCL C global</p></li>
</ul>
</td>
</tr>
<tr class="row-odd">
<td><p>shared</p></td>
<td><p>3</p></td>
<td>
<ul class="simple">
<li><p>CUDA C/C++ __shared__</p></li>
<li><p>OpenCL C local</p></li>
</ul>
</td>
</tr>
<tr class="row-even">
<td><p>constant</p></td>
<td><p>4</p></td>
<td>
<ul class="simple">
<li><p>CUDA C/C++ __constant__</p></li>
<li><p>OpenCL C constant</p></li>
</ul>
</td>
</tr>
<tr class="row-odd">
<td><p>local</p></td>
<td><p>5</p></td>
<td>
<ul class="simple">
<li><p>CUDA C/C++ local</p></li>
<li><p>OpenCL C private</p></li>
</ul>
</td>
</tr>
<tr class="row-even">
<td><p>&lt;reserved&gt;</p></td>
<td><p>2, 101 and above</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>Each global variable, that is not an intrinsic global variable, can be declared to reside in a specific non-zero address space, which can only be one of the following: <code class="docutils literal notranslate"><span class="pre">global</span></code>, <code class="docutils literal notranslate"><span class="pre">shared</span></code> or <code class="docutils literal notranslate"><span class="pre">constant</span></code>.</p>
<p>If a non-intrinsic global variable is declared without any address space number or with the address space number 0, then this global variable resides in address space <code class="docutils literal notranslate"><span class="pre">global</span></code> and the pointer of this global variable holds a generic pointer value.</p>
<p>The predefined NVVM memory spaces are needed for the language front-ends to model the memory spaces in the source languages. For example,</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>// CUDA C/C++
__constant__ int c;
__device__ int g;

; NVVM IR
@c = addrspace(4) global i32 0, align 4
@g = addrspace(1) global [2 x i32] zeroinitializer, align 4
</pre></div>
</div>
<p>Address space numbers 2 and 101 or higher are reserved for NVVM compiler internal use only. No language front-end should generate code that uses these address spaces directly.</p>
</section>
<section id="generic-pointers-and-non-generic-pointers">
<h2>
<span class="section-number">12.2. </span>Generic Pointers and Non-Generic Pointers<a class="headerlink" href="index.html#generic-pointers-and-non-generic-pointers" title="Permalink to this headline"></a>
</h2>
<section id="generic-pointers-vs-non-generic-pointers">
<h3>
<span class="section-number">12.2.1. </span>Generic Pointers vs. Non-generic Pointers<a class="headerlink" href="index.html#generic-pointers-vs-non-generic-pointers" title="Permalink to this headline"></a>
</h3>
<p>There are generic pointers and non-generic pointers in NVVM IR. A generic pointer is a pointer that may point to memory in any address space. A non-generic pointer points to memory in a specific address space.</p>
<p>In NVVM IR, a generic pointer has a pointer type with the address space <code class="docutils literal notranslate"><span class="pre">generic</span></code>, while a non-generic pointer has a pointer type with a non-generic address space.</p>
<p>Note that the address space number for the generic address space is 0—the default in both NVVM IR and LLVM IR. The address space number for the code address space is also 0. Function pointers are qualified by address space <code class="docutils literal notranslate"><span class="pre">code</span></code> (<code class="docutils literal notranslate"><span class="pre">addrspace(0)</span></code>).</p>
<p>Loads/stores via generic pointers are supported, as well as loads/stores via non-generic pointers. Loads/stores via function pointers are not supported</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>@a = addrspace(1) global i32 0, align 4 ; 'global' addrspace, @a holds a specific value
@b = global i32 0, align 4              ; 'global' addrspace, @b holds a generic value
@c = addrspace(4) global i32 0, align 4 ; 'constant' addrspace, @c holds a specific value

... = load i32 addrspace(1)* @a, align 4 ; Correct
... = load i32* @a, align 4              ; Wrong
... = load i32* @b, align 4              ; Correct
... = load i32 addrspace(1)* @b, align 4 ; Wrong
... = load i32 addrspace(4)* @c, align4  ; Correct
... = load i32* @c, align 4              ; Wrong
</pre></div>
</div>
</section>
<section id="conversion">
<h3>
<span class="section-number">12.2.2. </span>Conversion<a class="headerlink" href="index.html#conversion" title="Permalink to this headline"></a>
</h3>
<p>The bit value of a generic pointer that points to a specific object may be different from the bit value of a specific pointer that points to the same object.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code> IR instruction should be used to perform pointer casts across address spaces (generic to non-generic or non-generic to generic). Casting a non-generic pointer to a different non-generic pointer is not supported. Casting from a generic to a non-generic pointer is undefined if the generic pointer does not point to an object in the target non-generic address space.</p>
<p><code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> and <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> are supported. <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> and <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> are value preserving instructions when the two operands are of the same size. In general, using <code class="docutils literal notranslate"><span class="pre">ptrtoint</span></code> and <code class="docutils literal notranslate"><span class="pre">inttoptr</span></code> to implement an address space cast is undefined.</p>
<p>The following intrinsic can be used to query if the argument pointer was derived from the address of a kernel function parameter that has the grid_constant property:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i1 @llvm.nvvm.isspacep.grid_const(i8*)
</pre></div>
</div>
<p>The following intrinsic can be used to query if the input generic pointer was derived from the address of a variable allocated in the shared address space, in a CTA that is part of the same cluster as the parent CTA of the invoking thread. This intrinsic is only supported for Hopper+.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i1 @llvm.nvvm.isspacep.cluster_shared(i8*)
</pre></div>
</div>
<p>The following intrinsics can be used to query if a generic pointer can be safely cast to a specific non-generic address space:</p>
<ul class="simple">
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">@llvm.nvvm.isspacep.const(i8*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">@llvm.nvvm.isspacep.global(i8*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">@llvm.nvvm.isspacep.local(i8*)</span></code></p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">i1</span> <span class="pre">@llvm.nvvm.isspacep.shared(i8*)</span></code></p></li>
</ul>
<p><code class="docutils literal notranslate"><span class="pre">bitcast</span></code> on pointers is supported, though LLVM IR forbids <code class="docutils literal notranslate"><span class="pre">bitcast</span></code> from being used to change the address space of a pointer.</p>
</section>
<section id="no-aliasing-between-two-different-specific-address-spaces">
<h3>
<span class="section-number">12.2.3. </span>No Aliasing between Two Different Specific Address Spaces<a class="headerlink" href="index.html#no-aliasing-between-two-different-specific-address-spaces" title="Permalink to this headline"></a>
</h3>
<p>Two different specific address spaces do not overlap. NVVM compiler assumes two memory accesses via non-generic pointers that point to different address spaces are not aliased.</p>
</section>
</section>
<section id="the-alloca-instruction">
<h2>
<span class="section-number">12.3. </span>The alloca Instruction<a class="headerlink" href="index.html#the-alloca-instruction" title="Permalink to this headline"></a>
</h2>
<p>The <code class="docutils literal notranslate"><span class="pre">alloca</span></code> instruction returns a generic pointer that only points to address space <code class="docutils literal notranslate"><span class="pre">local</span></code>.</p>
</section>
</section>
<section id="global-property-annotation">
<h1>
<span class="section-number">13. </span>Global Property Annotation<a class="headerlink" href="index.html#global-property-annotation" title="Permalink to this headline"></a>
</h1>
<section id="overview">
<h2>
<span class="section-number">13.1. </span>Overview<a class="headerlink" href="index.html#overview" title="Permalink to this headline"></a>
</h2>
<p>NVVM uses Named Metadata to annotate IR objects with properties that are otherwise not representable in the IR. The NVVM IR producers can use the Named Metadata to annotate the IR with properties, which the NVVM compiler can process.</p>
</section>
<section id="representation-of-properties">
<h2>
<span class="section-number">13.2. </span>Representation of Properties<a class="headerlink" href="index.html#representation-of-properties" title="Permalink to this headline"></a>
</h2>
<p>For each translation unit (that is, per bitcode file), there is a named metadata called <code class="docutils literal notranslate"><span class="pre">nvvm.annotations</span></code>.</p>
<p>This named metadata contains a list of MDNodes.</p>
<p>The first operand of each MDNode is an entity that the node is annotating using the remaining operands.</p>
<p>Multiple MDNodes may provide annotations for the same entity, in which case their first operands will be same.</p>
<p>The remaining operands of the MDNode are organized in order as &lt;property-name, value&gt;.</p>
<ul>
<li><p>The property-name operand is MDString, while the value is <code class="docutils literal notranslate"><span class="pre">i32</span></code>.</p></li>
<li><p>Starting with the operand after the annotated entity, every alternate operand specifies a property.</p></li>
<li>
<p>The operand after a property is its value.</p>
<p>The following is an example.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>!nvvm.annotations = !{!12, !13}
  !12 = !{void (i32, i32)* @_Z6kernelii, !"kernel", i32 1}
  !13 = !{void ()* @_Z7kernel2v, !"kernel", i32 1, !"maxntidx", i32 16}
</pre></div>
</div>
</li>
</ul>
<p>If two bitcode files are being linked and both have a named metadata <code class="docutils literal notranslate"><span class="pre">nvvm.annotations</span></code>, the linked file will have a single merged named metadata. If both files define properties for the same entity foo , the linked file will have two MDNodes defining properties for foo . It is illegal for the files to have conflicting properties for the same entity.</p>
</section>
<section id="supported-properties">
<h2>
<span class="section-number">13.3. </span>Supported Properties<a class="headerlink" href="index.html#supported-properties" title="Permalink to this headline"></a>
</h2>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 6%">
<col style="width: 4%">
<col style="width: 90%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Property Name</p></th>
<th class="head"><p>Annotated On</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">maxntid{x,</span> <span class="pre">y,</span> <span class="pre">z}</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>Maximum expected CTA size from any launch.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">reqntid{x,</span> <span class="pre">y,</span> <span class="pre">z}</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>Minimum expected CTA size from any launch.</p></td>
</tr>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">cluster_dim_{x,y,z}</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>Support for cluster dimensions for Hopper+. If any dimension is specified as 0, then all dimensions must be specified as 0.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">cluster_max_blocks</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>Maximum number of blocks per cluster. Must be non-zero. Only supported for Hopper+.</p></td>
</tr>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">minctasm</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>Hint/directive to the compiler/driver, asking it to put at least these many CTAs on an SM.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">grid_constant</span></code></p></td>
<td><p>kernel function</p></td>
<td><p>The argument is a metadata node, which contains a list of integers, where each integer n denotes that the nth parameter has the grid_constant annotation (numbering from 1). The parameter’s type must be of pointer type with byval attribute set. It is undefined behavior to write to memory pointed to by the parameter. This property is only supported for Volta+.</p></td>
</tr>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">maxnreg</span></code></p></td>
<td><p>function</p></td>
<td><p>Maximum number of registers for function.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">kernel</span></code></p></td>
<td><p>function</p></td>
<td><p>Signifies that this function is a kernel function.</p></td>
</tr>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">align</span></code></p></td>
<td><p>function</p></td>
<td><p>Signifies that the value in low 16-bits of the 32-bit value contains alignment of n th parameter type if its alignment is not the natural alignment. n is specified by high 16-bits of the value. For return type, n is 0.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">texture</span></code></p></td>
<td><p>global variable</p></td>
<td><p>Signifies that variable is a texture.</p></td>
</tr>
<tr class="row-even">
<td><p><code class="docutils literal notranslate"><span class="pre">surface</span></code></p></td>
<td><p>global variable</p></td>
<td><p>Signifies that variable is a surface.</p></td>
</tr>
<tr class="row-odd">
<td><p><code class="docutils literal notranslate"><span class="pre">managed</span></code></p></td>
<td><p>global variable</p></td>
<td><p>Signifies that variable is a UVM managed variable.</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="texture-and-surface">
<h1>
<span class="section-number">14. </span>Texture and Surface<a class="headerlink" href="index.html#texture-and-surface" title="Permalink to this headline"></a>
</h1>
<section id="texture-variable-and-surface-variable">
<h2>
<span class="section-number">14.1. </span>Texture Variable and Surface Variable<a class="headerlink" href="index.html#texture-variable-and-surface-variable" title="Permalink to this headline"></a>
</h2>
<p>A texture or a surface variable can be declared/defined as a global variable of <code class="docutils literal notranslate"><span class="pre">i64</span></code> type with annotation <code class="docutils literal notranslate"><span class="pre">texture</span></code> or <code class="docutils literal notranslate"><span class="pre">surface</span></code> in the <code class="docutils literal notranslate"><span class="pre">global</span></code> address space.</p>
<p>A texture or surface variable must have a name, which must follow identifier naming conventions.</p>
<p>It is illegal to store to or load from the address of a texture or surface variable. A texture or a surface variable may only have the following uses:</p>
<ul class="simple">
<li><p>In a metadata node</p></li>
<li><p>As an intrinsic function argument as shown below</p></li>
<li><p>In <code class="docutils literal notranslate"><span class="pre">llvm.used</span></code> Global Variable</p></li>
</ul>
</section>
<section id="accessing-texture-memory-or-surface-memory">
<h2>
<span class="section-number">14.2. </span>Accessing Texture Memory or Surface Memory<a class="headerlink" href="index.html#accessing-texture-memory-or-surface-memory" title="Permalink to this headline"></a>
</h2>
<p>Texture memory and surface memory can be accessed using texture or surface handles. NVVM provides the following intrinsic function to get a texture or surface handle from a texture or surface variable.</p>
<div class="highlight-c notranslate">
<div class="highlight"><pre><span></span><span class="n">delcare</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="o">%</span><span class="n">llvm</span><span class="p">.</span><span class="n">nvvm</span><span class="p">.</span><span class="n">texsurf</span><span class="p">.</span><span class="n">handle</span><span class="p">.</span><span class="n">p1i64</span><span class="p">(</span><span class="n">metadata</span><span class="p">,</span><span class="w"> </span><span class="n">i64</span><span class="w"> </span><span class="n">addrspace</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span><span class="o">*</span><span class="p">)</span><span class="w"></span>
</pre></div>
</div>
<p>The first argument to the intrinsic is a metadata holding the texture or surface variable. Such a metadata may hold only one texture or one surface variable. The second argument to the intrinsic is the texture or surface variable itself. The intrinsic returns a handle of <code class="docutils literal notranslate"><span class="pre">i64</span></code> type.</p>
<p>The returned handle value from the intrinsic call can be used as an operand (with a constraint of l) in a PTX inline asm to access the texture or surface memory.</p>
</section>
</section>
<section id="nvvm-specific-intrinsic-functions">
<h1>
<span class="section-number">15. </span>NVVM Specific Intrinsic Functions<a class="headerlink" href="index.html#nvvm-specific-intrinsic-functions" title="Permalink to this headline"></a>
</h1>
<section id="atomic">
<h2>
<span class="section-number">15.1. </span>Atomic<a class="headerlink" href="index.html#atomic" title="Permalink to this headline"></a>
</h2>
<p>Besides the atomic instructions, the following extra atomic intrinsic functions are supported.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare float @llvm.nvvm.atomic.load.add.f32.p0f32(float* address, float val)
declare float @llvm.nvvm.atomic.load.add.f32.p1f32(float addrspace(1)* address, float val)
declare float @llvm.nvvm.atomic.load.add.f32.p3f32(float addrspace(3)* address, float val)
declare double @llvm.nvvm.atomic.load.add.f64.p0f64(double* address, double val)
declare double @llvm.nvvm.atomic.load.add.f64.p1f64(double addrspace(1)* address, double val)
declare double @llvm.nvvm.atomic.load.add.f64.p3f64(double addrspace(3)* address, double val)
</pre></div>
</div>
<p>reads the single/double precision floating point value <code class="docutils literal notranslate"><span class="pre">old</span></code> located at the address <code class="docutils literal notranslate"><span class="pre">address</span></code>, computes <code class="docutils literal notranslate"><span class="pre">old+val</span></code>, and stores the result back to memory at the same address. These operations are performed in one atomic transaction. The function returns <code class="docutils literal notranslate"><span class="pre">old</span></code>.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.atomic.load.inc.32.p0i32(i32* address, i32 val)
declare i32 @llvm.nvvm.atomic.load.inc.32.p1i32(i32 addrspace(1)* address, i32 val)
declare i32 @llvm.nvvm.atomic.load.inc.32.p3i32(i32 addrspace(3)* address, i32 val)
</pre></div>
</div>
<p>reads the 32-bit word <code class="docutils literal notranslate"><span class="pre">old</span></code> located at the address <code class="docutils literal notranslate"><span class="pre">address</span></code>, computes <code class="docutils literal notranslate"><span class="pre">((old</span> <span class="pre">&gt;=</span> <span class="pre">val)</span> <span class="pre">?</span> <span class="pre">0</span> <span class="pre">:</span> <span class="pre">(old+1))</span></code>, and stores the result back to memory at the same address. These three operations are performed in one atomic transaction. The function returns <code class="docutils literal notranslate"><span class="pre">old</span></code>.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.atomic.load.dec.32.p0i32(i32* address, i32 val)
declare i32 @llvm.nvvm.atomic.load.dec.32.p1i32(i32 addrspace(1)* address, i32 val)
declare i32 @llvm.nvvm.atomic.load.dec.32.p3i32(i32 addrspace(3)* address, i32 val)
</pre></div>
</div>
<p>reads the 32-bit word <code class="docutils literal notranslate"><span class="pre">old</span></code> located at the address <code class="docutils literal notranslate"><span class="pre">address</span></code>, computes <code class="docutils literal notranslate"><span class="pre">(((old</span> <span class="pre">==</span> <span class="pre">0)</span> <span class="pre">|</span> <span class="pre">(old</span> <span class="pre">&gt;</span> <span class="pre">val))</span> <span class="pre">?</span> <span class="pre">val</span> <span class="pre">:</span> <span class="pre">(old-1)</span> <span class="pre">)</span></code>, and stores the result back to memory at the same address. These three operations are performed in one atomic transaction. The function returns <code class="docutils literal notranslate"><span class="pre">old</span></code>.</p>
</section>
<section id="barrier-and-memory-fence">
<h2>
<span class="section-number">15.2. </span>Barrier and Memory Fence<a class="headerlink" href="index.html#barrier-and-memory-fence" title="Permalink to this headline"></a>
</h2>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.barrier0()
</pre></div>
</div>
<p>waits until all threads in the thread block have reached this point and all global and shared memory accesses made by these threads prior to <code class="docutils literal notranslate"><span class="pre">llvm.nvvm.barrier0()</span></code> are visible to all threads in the block.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.barrier0.popc(i32)
</pre></div>
</div>
<p>is identical to <code class="docutils literal notranslate"><span class="pre">llvm.nvvm.barrier0()</span></code> with the additional feature that it evaluates predicate for all threads of the block and returns the number of threads for which predicate evaluates to non-zero.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.barrier0.and(i32)
</pre></div>
</div>
<p>is identical to <code class="docutils literal notranslate"><span class="pre">llvm.nvvm.barrier0()</span></code> with the additional feature that it evaluates predicate for all threads of the block and returns non-zero if and only if predicate evaluates to non-zero for all of them.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.barrier0.or(i32)
</pre></div>
</div>
<p>is identical to <code class="docutils literal notranslate"><span class="pre">llvm.nvvm.barrier0()</span></code> with the additional feature that it evaluates predicate for all threads of the block and returns non-zero if and only if predicate evaluates to non-zero for any of them.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.cluster.barrier(i32 %flags)
</pre></div>
</div>
<p>Synchronize and communicate among threads in the same cluster. This intrinsic is only supported for Hopper+. The %flags is encoded according to the following table:</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 16%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>%flags bits</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>31-8</p></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-odd">
<td><p>7-4</p></td>
<td><p>Memory ordering (See Cluster Barrier Memory Ordering Encoding below)</p></td>
</tr>
<tr class="row-even">
<td><p>3-0</p></td>
<td><p>Operation mode (See Cluster Barrier Operation Mode Encoding below)</p></td>
</tr>
</tbody>
</table>
<p>Cluster Barrier Operation Mode Encoding</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 20%">
<col style="width: 20%">
<col style="width: 61%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>Arrive</p></td>
<td><p>Arrive at cluster barrier</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>Wait</p></td>
<td><p>Wait at cluster barrier</p></td>
</tr>
<tr class="row-even">
<td><p>2-15</p></td>
<td><p>RESERVED</p></td>
<td><p>RESERVED</p></td>
</tr>
</tbody>
</table>
<p>Cluster Barrier Memory Ordering Encoding</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 4%">
<col style="width: 4%">
<col style="width: 92%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>Default</p></td>
<td><p>All synchronous memory accesses requested by the executing entry prior to arrive are performed and are visible to all the entrys in the cluster after wait.</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>Relaxed</p></td>
<td><p>All previously fenced memory accesses requested by the executing entry prior to arrive are performed and are visible to all the entrys in the cluster after wait. This ordering is only supported when the operation mode is Arrive.</p></td>
</tr>
<tr class="row-even">
<td><p>2-15</p></td>
<td><p>RESERVED</p></td>
<td><p>RESERVED</p></td>
</tr>
</tbody>
</table>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.membar.cta()
</pre></div>
</div>
<p>is a memory fence at the thread block level. This intrinsic is deprecated. Please use nvvm.membar with flags as argument instead.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.membar.gl()
</pre></div>
</div>
<p>is a memory fence at the device level. This intrinsic is deprecated. Please use nvvm.membar with flags as argument instead.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.membar.sys()
</pre></div>
</div>
<p>is a memory fence at the system level. This intrinsic is deprecated. Please use nvvm.membar with flags as argument instead.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.membar(i32 %flags)
</pre></div>
</div>
<p>Wait for all prior memory accesses requested by this thread to be performed at a membar level defined by the membar mode below. The memory barrier enforces vertical ordering only. It makes no guarantees as to execution synchronization with other threads. For horizontal synchronization, a barrier should be used instead, or in addition to membar.</p>
<p>The %flags is encoded according to the following table:</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 22%">
<col style="width: 78%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>%flags bits</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>31-4</p></td>
<td><p>Reserved</p></td>
</tr>
<tr class="row-odd">
<td><p>3-0</p></td>
<td><p>Membar modes (See Membar Mode Encoding.)</p></td>
</tr>
</tbody>
</table>
<p>Membar Mode Encoding</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 13%">
<col style="width: 13%">
<col style="width: 73%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Mode</p></th>
<th class="head"><p>Description</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>GLOBAL</p></td>
<td><p>Membar at the global level</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>CTA</p></td>
<td><p>Membar at the CTA level</p></td>
</tr>
<tr class="row-even">
<td><p>2</p></td>
<td><p>SYSTEM</p></td>
<td><p>Membar at the system level</p></td>
</tr>
<tr class="row-odd">
<td><p>3</p></td>
<td><p>RESERVED</p></td>
<td><p>RESERVED</p></td>
</tr>
<tr class="row-even">
<td><p>4</p></td>
<td><p>CLUSTER</p></td>
<td><p>Membar at the cluster level, only on Hopper+</p></td>
</tr>
<tr class="row-odd">
<td><p>5-15</p></td>
<td><p>RESERVED</p></td>
<td><p>RESERVED</p></td>
</tr>
</tbody>
</table>
</section>
<section id="address-space-conversion">
<h2>
<span class="section-number">15.3. </span>Address space conversion<a class="headerlink" href="index.html#address-space-conversion" title="Permalink to this headline"></a>
</h2>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>Attention: Please use the <code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code> IR instruction for address space conversion.</p>
</div>
</section>
<section id="special-registers">
<h2>
<span class="section-number">15.4. </span>Special Registers<a class="headerlink" href="index.html#special-registers" title="Permalink to this headline"></a>
</h2>
<p>The following intrinsic functions are provided to support reading special PTX registers:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.read.ptx.sreg.tid.x()
declare i32 @llvm.nvvm.read.ptx.sreg.tid.y()
declare i32 @llvm.nvvm.read.ptx.sreg.tid.z()
declare i32 @llvm.nvvm.read.ptx.sreg.ntid.x()
declare i32 @llvm.nvvm.read.ptx.sreg.ntid.y()
declare i32 @llvm.nvvm.read.ptx.sreg.ntid.z()
declare i32 @llvm.nvvm.read.ptx.sreg.ctaid.x()
declare i32 @llvm.nvvm.read.ptx.sreg.ctaid.y()
declare i32 @llvm.nvvm.read.ptx.sreg.ctaid.z()
declare i32 @llvm.nvvm.read.ptx.sreg.nctaid.x()
declare i32 @llvm.nvvm.read.ptx.sreg.nctaid.y()
declare i32 @llvm.nvvm.read.ptx.sreg.nctaid.z()
declare i32 @llvm.nvvm.read.ptx.sreg.warpsize()
</pre></div>
</div>
</section>
<section id="texture-surface-access">
<h2>
<span class="section-number">15.5. </span>Texture/Surface Access<a class="headerlink" href="index.html#texture-surface-access" title="Permalink to this headline"></a>
</h2>
<p>The following intrinsic function is provided to convert a global texture/surface variable into a texture/surface handle.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i64 %llvm.nvvm.texsurf.handle.p1i64(metadata, i64 addrspace(1)*)
</pre></div>
</div>
<p>See <a class="reference external" href="index.html#accessing-texture-memory-or-surface-memory">Accessing Texture Memory or Surface Memory</a> for details.</p>
<p>The following IR definitions apply to all intrinsics in this section:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>type %float4 = { float, float, float, float }
type %long2 = { i64, i64 }
type %int4 = { i32, i32, i32, i32 }
type %int2 = { i32, i32 }
type %short4 = { i16, i16, i16, i16 }
type %short2 = { i16, i16 }
</pre></div>
</div>
<section id="texture-reads">
<h3>
<span class="section-number">15.5.1. </span>Texture Reads<a class="headerlink" href="index.html#texture-reads" title="Permalink to this headline"></a>
</h3>
<p>Sampling a 1D texture:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.1d.v4f32.s32(i64 %tex, i32 %x)
%float4 @llvm.nvvm.tex.unified.1d.v4f32.f32(i64 %tex, float %x)
%float4 @llvm.nvvm.tex.unified.1d.level.v4f32.f32(i64 %tex, float %x,
                                                  float %level)
%float4 @llvm.nvvm.tex.unified.1d.grad.v4f32.f32(i64 %tex, float %x,
                                                 float %dPdx,
                                                 float %dPdy)

%int4 @llvm.nvvm.tex.unified.1d.v4s32.s32(i64 %tex, i32 %x)
%int4 @llvm.nvvm.tex.unified.1d.v4s32.f32(i64 %tex, float %x)
%int4 @llvm.nvvm.tex.unified.1d.level.v4s32.f32(i64 %tex, float %x,
                                                float %level)
%int4 @llvm.nvvm.tex.unified.1d.grad.v4s32.f32(i64 %tex, float %x,
                                               float %dPdx,
                                               float %dPdy)

%int4 @llvm.nvvm.tex.unified.1d.v4u32.s32(i64 %tex, i32 %x)
%int4 @llvm.nvvm.tex.unified.1d.v4u32.f32(i64 %tex, float %x)
%int4 @llvm.nvvm.tex.unified.1d.level.v4u32.f32(i64 %tex, float %x,
                                                float %level)
%int4 @llvm.nvvm.tex.unified.1d.grad.v4u32.f32(i64 %tex, float %x,
                                               float %dPdx,
                                               float %dPdy)
</pre></div>
</div>
<p>Sampling a 1D texture array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.1d.array.v4f32.s32(i64 %tex, i32 %idx, i32 %x)
%float4 @llvm.nvvm.tex.unified.1d.array.v4f32.f32(i64 %tex, i32 %idx, float %x)
%float4 @llvm.nvvm.tex.unified.1d.array.level.v4f32.f32(i64 %tex, i32 %idx,
                                                        float %x,
                                                        float %level)
%float4 @llvm.nvvm.tex.unified.1d.array.grad.v4f32.f32(i64 %tex, i32 %idx,
                                                       float %x,
                                                       float %dPdx,
                                                       float %dPdy)

%int4 @llvm.nvvm.tex.unified.1d.array.v4s32.s32(i64 %tex, i32 %idx, i32 %x)
%int4 @llvm.nvvm.tex.unified.1d.array.v4s32.f32(i64 %tex, i32 %idx, float %x)
%int4 @llvm.nvvm.tex.unified.1d.array.level.v4s32.f32(i64 %tex, i32 %idx,
                                                      float %x,
                                                      float %level)
%int4 @llvm.nvvm.tex.unified.1d.array.grad.v4s32.f32(i64 %tex, i32 %idx,
                                                     float %x,
                                                     float %dPdx,
                                                     float %dPdy)

%int4 @llvm.nvvm.tex.unified.1d.array.v4u32.s32(i64 %tex, i32 %idx, i32 %x)
%int4 @llvm.nvvm.tex.unified.1d.array.v4u32.f32(i64 %tex, i32 %idx, float %x)
%int4 @llvm.nvvm.tex.unified.1d.array.level.v4u32.f32(i64 %tex, i32 %idx,
                                                      float %x,
                                                      float %level)
%int4 @llvm.nvvm.tex.unified.1d.array.grad.v4u32.f32(i64 %tex, i32 %idx,
                                                     float %x,
                                                     float %dPdx,
                                                     float %dPdy)
</pre></div>
</div>
<p>Sampling a 2D texture:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.2d.v4f32.s32(i64 %tex, i32 %x, i32 %y)
%float4 @llvm.nvvm.tex.unified.2d.v4f32.f32(i64 %tex, float %x, float %y)
%float4 @llvm.nvvm.tex.unified.2d.level.v4f32.f32(i64 %tex, float %x, float %y,
                                                  float %level)
%float4 @llvm.nvvm.tex.unified.2d.grad.v4f32.f32(i64 %tex, float %x, float %y,
                                                 float %dPdx_x, float %dPdx_y,
                                                 float %dPdy_x, float %dPdy_y)

%int4 @llvm.nvvm.tex.unified.2d.v4s32.s32(i64 %tex, i32 %x, i32 %y)
%int4 @llvm.nvvm.tex.unified.2d.v4s32.f32(i64 %tex, float %x, float %y,)
%int4 @llvm.nvvm.tex.unified.2d.level.v4s32.f32(i64 %tex, float %x, float %y,
                                                float %level)
%int4 @llvm.nvvm.tex.unified.2d.grad.v4s32.f32(i64 %tex, float %x, float %y,
                                               float %dPdx_x, float %dPdx_y,
                                               float %dPdy_x, float %dPdy_y)

%int4 @llvm.nvvm.tex.unified.2d.v4u32.s32(i64 %tex, i32 %x i32 %y)
%int4 @llvm.nvvm.tex.unified.2d.v4u32.f32(i64 %tex, float %x float %y)
%int4 @llvm.nvvm.tex.unified.2d.level.v4u32.f32(i64 %tex, float %x, float %y,
                                                float %level)
%int4 @llvm.nvvm.tex.unified.2d.grad.v4u32.f32(i64 %tex, float %x, float %y,
                                               float %dPdx_x, float %dPdx_y,
                                               float %dPdy_x, float %dPdy_y)
</pre></div>
</div>
<p>Sampling a 2D texture array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.2d.array.v4f32.s32(i64 %tex, i32 %idx,
                                                  i32 %x, i32 %y)
%float4 @llvm.nvvm.tex.unified.2d.array.v4f32.f32(i64 %tex, i32 %idx,
                                                  float %x, float %y)
%float4 @llvm.nvvm.tex.unified.2d.array.level.v4f32.f32(i64 %tex, i32 %idx,
                                                        float %x, float %y,
                                                        float %level)
%float4 @llvm.nvvm.tex.unified.2d.array.grad.v4f32.f32(i64 %tex, i32 %idx,
                                                       float %x, float %y,
                                                       float %dPdx_x,
                                                       float %dPdx_y,
                                                       float %dPdy_x,
                                                       float %dPdy_y)

%int4 @llvm.nvvm.tex.unified.2d.array.v4s32.s32(i64 %tex, i32 %idx,
                                                i32 %x, i32 %y)
%int4 @llvm.nvvm.tex.unified.2d.array.v4s32.f32(i64 %tex, i32 %idx,
                                                float %x, float %y)
%int4 @llvm.nvvm.tex.unified.2d.array.level.v4s32.f32(i64 %tex, i32 %idx,
                                                      float %x, float %y,
                                                      float %level)
%int4 @llvm.nvvm.tex.unified.2d.array.grad.v4s32.f32(i64 %tex, i32 %idx,
                                                     float %x, float %y,
                                                     float %dPdx_x,
                                                     float %dPdx_y,
                                                     float %dPdy_x,
                                                     float %dPdy_y)

%int4 @llvm.nvvm.tex.unified.2d.array.v4u32.s32(i64 %tex, i32 %idx,
                                                i32 %x i32 %y)
%int4 @llvm.nvvm.tex.unified.2d.array.v4u32.f32(i64 %tex, i32 %idx,
                                                float %x float %y)
%int4 @llvm.nvvm.tex.unified.2d.array.level.v4u32.f32(i64 %tex, i32 %idx,
                                                      float %x, float %y,
                                                      float %level)
%int4 @llvm.nvvm.tex.unified.2d.array.grad.v4u32.f32(i64 %tex, i32 %idx,
                                                     float %x, float %y,
                                                     float %dPdx_x,
                                                     float %dPdx_y,
                                                     float %dPdy_x,
                                                     float %dPdy_y)
</pre></div>
</div>
<p>Sampling a 3D texture:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.3d.v4f32.s32(i64 %tex, i32 %x, i32 %y, i32 %z)
%float4 @llvm.nvvm.tex.unified.3d.v4f32.f32(i64 %tex, float %x, float %y,
                                            float %z)
%float4 @llvm.nvvm.tex.unified.3d.level.v4f32.f32(i64 %tex,float %x, float %y,
                                                  float %z, float %level)
%float4 @llvm.nvvm.tex.unified.3d.grad.v4f32.f32(i64 %tex, float %x, float %y,
                                                 float %z, float %dPdx_x,
                                                 float %dPdx_y, float %dPdx_z,
                                                 float %dPdy_x, float %dPdy_y,
                                                 float %dPdy_z)

%int4 @llvm.nvvm.tex.unified.3d.v4s32.s32(i64 %tex, i32 %x, i32 %y, i32 %z)
%int4 @llvm.nvvm.tex.unified.3d.v4s32.f32(i64 %tex, float %x, float %y,
                                          float %z)
%int4 @llvm.nvvm.tex.unified.3d.level.v4s32.f32(i64 %tex, float %x, float %y,
                                                float %z, float %level)
%int4 @llvm.nvvm.tex.unified.3d.grad.v4s32.f32(i64 %tex, float %x, float %y,
                                               float %z, float %dPdx_x,
                                               float %dPdx_y, float %dPdx_z,
                                               float %dPdy_x, float %dPdy_y,
                                               float %dPdy_z)

%int4 @llvm.nvvm.tex.unified.3d.v4u32.s32(i64 %tex, i32 %x i32 %y, i32 %z)
%int4 @llvm.nvvm.tex.unified.3d.v4u32.f32(i64 %tex, float %x, float %y,
                                          float %z)
%int4 @llvm.nvvm.tex.unified.3d.level.v4u32.f32(i64 %tex, float %x, float %y,
                                                float %z, float %level)
%int4 @llvm.nvvm.tex.unified.3d.grad.v4u32.f32(i64 %tex, float %x, float %y,
                                               float %z, float %dPdx_x,
                                               float %dPdx_y, float %dPdx_z,
                                               float %dPdy_x, float %dPdy_y,
                                               float %dPdy_z)
</pre></div>
</div>
<p>Sampling a cube texture:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.cube.v4f32.f32(i64 %tex, float %x, float %y,
                                              float %z)
%float4 @llvm.nvvm.tex.unified.cube.level.v4f32.f32(i64 %tex,float %x, float %y,
                                                    float %z, float %level)

%int4 @llvm.nvvm.tex.unified.cube.v4s32.f32(i64 %tex, float %x, float %y,
                                            float %z)
%int4 @llvm.nvvm.tex.unified.cube.level.v4s32.f32(i64 %tex, float %x, float %y,
                                                  float %z, float %level)

%int4 @llvm.nvvm.tex.unified.cube.v4u32.f32(i64 %tex, float %x, float %y,
                                            float %z)
%int4 @llvm.nvvm.tex.unified.cube.level.v4u32.f32(i64 %tex, float %x, float %y,
                                                  float %z, float %level)
</pre></div>
</div>
<p>Sampling a cube texture array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tex.unified.cube.array.v4f32.f32(i64 %tex, i32 %idx,
                                                    float %x, float %y,
                                                    float %z)
%float4 @llvm.nvvm.tex.unified.cube.array.level.v4f32.f32(i64 %tex, i32 %idx,
                                                          float %x, float %y,
                                                          float %z,
                                                          float %level)

%int4 @llvm.nvvm.tex.unified.cube.array.v4s32.f32(i64 %tex, i32 %idx, float %x,
                                                  float %y, float %z)
%int4 @llvm.nvvm.tex.unified.cube.array.level.v4s32.f32(i64 %tex, i32 %idx,
                                                        float %x, float %y,
                                                        float %z, float %level)

%int4 @llvm.nvvm.tex.unified.cube.array.v4u32.f32(i64 %tex, i32 %idx, float %x,
                                                  float %y, float %z)
%int4 @llvm.nvvm.tex.unified.cube.array.level.v4u32.f32(i64 %tex, i32 %idx,
                                                        float %x, float %y,
                                                        float %z, float %level)
</pre></div>
</div>
<p>Fetching a four-texel bilerp footprint:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>%float4 @llvm.nvvm.tld4.unified.r.2d.v4f32.f32(i64 %tex, float %x, float %y)
%float4 @llvm.nvvm.tld4.unified.g.2d.v4f32.f32(i64 %tex, float %x, float %y)
%float4 @llvm.nvvm.tld4.unified.b.2d.v4f32.f32(i64 %tex, float %x, float %y)
%float4 @llvm.nvvm.tld4.unified.a.2d.v4f32.f32(i64 %tex, float %x, float %y)

%int4 @llvm.nvvm.tld4.unified.r.2d.v4s32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.g.2d.v4s32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.b.2d.v4s32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.a.2d.v4s32.f32(i64 %tex, float %x, float %y)

%int4 @llvm.nvvm.tld4.unified.r.2d.v4u32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.g.2d.v4u32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.b.2d.v4u32.f32(i64 %tex, float %x, float %y)
%int4 @llvm.nvvm.tld4.unified.a.2d.v4u32.f32(i64 %tex, float %x, float %y)
</pre></div>
</div>
</section>
<section id="surface-loads">
<h3>
<span class="section-number">15.5.2. </span>Surface Loads<a class="headerlink" href="index.html#surface-loads" title="Permalink to this headline"></a>
</h3>
<p>In the following intrinsics, <code class="docutils literal notranslate"><span class="pre">&lt;clamp&gt;</span></code> represents the surface clamp mode and can be one of the following: <code class="docutils literal notranslate"><span class="pre">clamp</span></code>, <code class="docutils literal notranslate"><span class="pre">trap</span></code>, or <code class="docutils literal notranslate"><span class="pre">zero</span></code>.</p>
<p>For surface load instructions that operate on 8-bit data channels, the output operands are of type <code class="docutils literal notranslate"><span class="pre">i16</span></code>. The high-order eight bits are undefined.</p>
<p>Reading a 1D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i16 @llvm.nvvm.suld.1d.i8.&lt;clamp&gt;(i64 %tex, i32 %x)
i16 @llvm.nvvm.suld.1d.i16.&lt;clamp&gt;(i64 %tex, i32 %x)
i32 @llvm.nvvm.suld.1d.i32.&lt;clamp&gt;(i64 %tex, i32 %x)
i64 @llvm.nvvm.suld.1d.i64.&lt;clamp&gt;(i64 %tex, i32 %x)

%short2 @llvm.nvvm.suld.1d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x)
%short2 @llvm.nvvm.suld.1d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x)
%int2 @llvm.nvvm.suld.1d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x)
%long2 @llvm.nvvm.suld.1d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x)

%short4 @llvm.nvvm.suld.1d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x)
%short4 @llvm.nvvm.suld.1d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x)
%int4 @llvm.nvvm.suld.1d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x)
</pre></div>
</div>
<p>Reading a 1D surface array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i16 @llvm.nvvm.suld.1d.array.i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
i16 @llvm.nvvm.suld.1d.array.i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
i32 @llvm.nvvm.suld.1d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
i64 @llvm.nvvm.suld.1d.array.i64.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)

%short2 @llvm.nvvm.suld.1d.array.v2i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
%short2 @llvm.nvvm.suld.1d.array.v2i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
%int2 @llvm.nvvm.suld.1d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
%long2 @llvm.nvvm.suld.1d.array.v2i64.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)

%short4 @llvm.nvvm.suld.1d.array.v4i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
%short4 @llvm.nvvm.suld.1d.array.v4i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
%int4 @llvm.nvvm.suld.1d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x)
</pre></div>
</div>
<p>Reading a 2D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i16 @llvm.nvvm.suld.2d.i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
i16 @llvm.nvvm.suld.2d.i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
i32 @llvm.nvvm.suld.2d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
i64 @llvm.nvvm.suld.2d.i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)

%short2 @llvm.nvvm.suld.2d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
%short2 @llvm.nvvm.suld.2d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
%int2 @llvm.nvvm.suld.2d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
%long2 @llvm.nvvm.suld.2d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)

%short4 @llvm.nvvm.suld.2d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
%short4 @llvm.nvvm.suld.2d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
%int4 @llvm.nvvm.suld.2d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y)
</pre></div>
</div>
<p>Reading a 2D surface array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i16 @llvm.nvvm.suld.2d.array.i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x, i32 %y)
i16 @llvm.nvvm.suld.2d.array.i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x, i32 %y)
i32 @llvm.nvvm.suld.2d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x, i32 %y)
i64 @llvm.nvvm.suld.2d.array.i64.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x, i32 %y)

%short2 @llvm.nvvm.suld.2d.array.v2i8.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y)
%short2 @llvm.nvvm.suld.2d.array.v2i16.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                               i32 %x, i32 %y)
%int2 @llvm.nvvm.suld.2d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                             i32 %x, i32 %y)
%long2 @llvm.nvvm.suld.2d.array.v2i64.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y)

%short4 @llvm.nvvm.suld.2d.array.v4i8.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y)
%short4 @llvm.nvvm.suld.2d.array.v4i16.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                               i32 %x, i32 %y)
%int4 @llvm.nvvm.suld.2d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                             i32 %x, i32 %y)
</pre></div>
</div>
<p>Reading a 3D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>i16 @llvm.nvvm.suld.3d.i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
i16 @llvm.nvvm.suld.3d.i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
i32 @llvm.nvvm.suld.3d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
i64 @llvm.nvvm.suld.3d.i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)

%short2 @llvm.nvvm.suld.3d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
%short2 @llvm.nvvm.suld.3d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
%int2 @llvm.nvvm.suld.3d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)
%long2 @llvm.nvvm.suld.3d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z)

%short4 @llvm.nvvm.suld.3d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i32 %z)
%short4 @llvm.nvvm.suld.3d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                         i32 %z)
%int4 @llvm.nvvm.suld.3d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                       i32 %z)
</pre></div>
</div>
</section>
<section id="surface-stores">
<h3>
<span class="section-number">15.5.3. </span>Surface Stores<a class="headerlink" href="index.html#surface-stores" title="Permalink to this headline"></a>
</h3>
<p>In the following intrinsics, <code class="docutils literal notranslate"><span class="pre">&lt;clamp&gt;</span></code> represents the surface clamp mode. It is <code class="docutils literal notranslate"><span class="pre">trap</span></code> for the formatted stores, and can be one of the following for unformatted stores: <code class="docutils literal notranslate"><span class="pre">clamp</span></code>, <code class="docutils literal notranslate"><span class="pre">trap</span></code>, or <code class="docutils literal notranslate"><span class="pre">zero</span></code>.</p>
<p>For surface store instructions that operate on 8-bit data channels, the input operands are of type <code class="docutils literal notranslate"><span class="pre">i16</span></code>. The high-order eight bits are ignored.</p>
<p>Writing a 1D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>;; Unformatted
void @llvm.nvvm.sust.b.1d.i8.&lt;clamp&gt;(i64 %tex, i32 %x, i16 %r)
void @llvm.nvvm.sust.b.1d.i16.&lt;clamp&gt;(i64 %tex, i32 %x, i16 %r)
void @llvm.nvvm.sust.b.1d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %r)
void @llvm.nvvm.sust.b.1d.i64.&lt;clamp&gt;(i64 %tex, i32 %x, i64 %r)

void @llvm.nvvm.sust.b.1d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x, i16 %r, i16 %g)
void @llvm.nvvm.sust.b.1d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x, i16 %r, i16 %g)
void @llvm.nvvm.sust.b.1d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %r, i32 %g)
void @llvm.nvvm.sust.b.1d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x, i64 %r, i64 %g)

void @llvm.nvvm.sust.b.1d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x,
                                       i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.1d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x,
                                        i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.1d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x,
                                        i32 %r, i32 %g, i32 %b, i32 %a)

;; Formatted
void @llvm.nvvm.sust.p.1d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %r)

void @llvm.nvvm.sust.p.1d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %r, i32 %g)

void @llvm.nvvm.sust.p.1d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x,
                                        i32 %r, i32 %g, i32 %b, i32 %a)
</pre></div>
</div>
<p>Writing a 1D surface array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>;; Unformatted
void @llvm.nvvm.sust.b.1d.array.i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                                 i16 %r)
void @llvm.nvvm.sust.b.1d.array.i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                                  i16 %r)
void @llvm.nvvm.sust.b.1d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                                  i32 %r)
void @llvm.nvvm.sust.b.1d.array.i64.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                                  i64 %r)

void @llvm.nvvm.sust.b.1d.array.v2i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                             i16 %r, i16 %g)
void @llvm.nvvm.sust.b.1d.array.v2i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i16 %r, i16 %g)
void @llvm.nvvm.sust.b.1d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i32 %r, i32 %g)
void @llvm.nvvm.sust.b.1d.array.v2i64.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i64 %r, i64 %g)

void @llvm.nvvm.sust.b.1d.array.v4i8.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                             i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.1d.array.v4i16.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.1d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i32 %r, i32 %g, i32 %b, i32 %a)

;; Formatted
void @llvm.nvvm.sust.p.1d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                                  i32 %r)

void @llvm.nvvm.sust.p.1d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i32 %r, i32 %g)

void @llvm.nvvm.sust.p.1d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx, i32 %x,
                                              i32 %r, i32 %g, i32 %b, i32 %a)
</pre></div>
</div>
<p>Writing a 2D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>;; Unformatted
void @llvm.nvvm.sust.b.2d.i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i16 %r)
void @llvm.nvvm.sust.b.2d.i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i16 %r)
void @llvm.nvvm.sust.b.2d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %r)
void @llvm.nvvm.sust.b.2d.i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i64 %r)

void @llvm.nvvm.sust.b.2d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                       i16 %r, i16 %g)
void @llvm.nvvm.sust.b.2d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i16 %r, i16 %g)
void @llvm.nvvm.sust.b.2d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i32 %r, i32 %g)
void @llvm.nvvm.sust.b.2d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i64 %r, i64 %g)

void @llvm.nvvm.sust.b.2d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                       i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.2d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.2d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i32 %r, i32 %g, i32 %b, i32 %a)

;; Formatted
void @llvm.nvvm.sust.p.2d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %r)

void @llvm.nvvm.sust.p.2d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i32 %r, i32 %g)

void @llvm.nvvm.sust.p.2d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y,
                                        i32 %r, i32 %g, i32 %b, i32 %a)
</pre></div>
</div>
<p>Writing a 2D surface array:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>;; Unformatted
void @llvm.nvvm.sust.b.2d.array.i8.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                           i32 %x, i32 %y, i16 %r)
void @llvm.nvvm.sust.b.2d.array.i16.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                            i32 %x, i32 %y, i16 %r)
void @llvm.nvvm.sust.b.2d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                            i32 %x, i32 %y, i32 %r)
void @llvm.nvvm.sust.b.2d.array.i64.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                            i32 %x, i32 %y, i64 %r)

void @llvm.nvvm.sust.b.2d.array.v2i8.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                             i32 %x, i32 %y,
                                             i16 %r, i16 %g)
void @llvm.nvvm.sust.b.2d.array.v2i16.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i16 %r, i16 %g)
void @llvm.nvvm.sust.b.2d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i32 %r, i32 %g)
void @llvm.nvvm.sust.b.2d.array.v2i64.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i64 %r, i64 %g)

void @llvm.nvvm.sust.b.2d.array.v4i8.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                             i32 %x, i32 %y,
                                             i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.2d.array.v4i16.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.2d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i32 %r, i32 %g, i32 %b, i32 %a)

;; Formatted
void @llvm.nvvm.sust.p.2d.array.i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                            i32 %x, i32 %y, i32 %r)

void @llvm.nvvm.sust.p.2d.array.v2i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i32 %r, i32 %g)

void @llvm.nvvm.sust.p.2d.array.v4i32.&lt;clamp&gt;(i64 %tex, i32 %idx,
                                              i32 %x, i32 %y,
                                              i32 %r, i32 %g, i32 %b, i32 %a)
</pre></div>
</div>
<p>Writing a 3D surface:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>;; Unformatted
void @llvm.nvvm.sust.b.3d.i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z, i16 %r)
void @llvm.nvvm.sust.b.3d.i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z, i16 %r)
void @llvm.nvvm.sust.b.3d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z, i32 %r)
void @llvm.nvvm.sust.b.3d.i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z, i64 %r)

void @llvm.nvvm.sust.b.3d.v2i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                       i16 %r, i16 %g)
void @llvm.nvvm.sust.b.3d.v2i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i16 %r, i16 %g)
void @llvm.nvvm.sust.b.3d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i32 %r, i32 %g)
void @llvm.nvvm.sust.b.3d.v2i64.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i64 %r, i64 %g)

void @llvm.nvvm.sust.b.3d.v4i8.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                       i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.3d.v4i16.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i16 %r, i16 %g, i16 %b, i16 %a)
void @llvm.nvvm.sust.b.3d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i32 %r, i32 %g, i32 %b, i32 %a)

;; Formatted
void @llvm.nvvm.sust.p.3d.i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z, i32 %r)

void @llvm.nvvm.sust.p.3d.v2i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i32 %r, i32 %g)

void @llvm.nvvm.sust.p.3d.v4i32.&lt;clamp&gt;(i64 %tex, i32 %x, i32 %y, i32 %z,
                                        i32 %r, i32 %g, i32 %b, i32 %a)
</pre></div>
</div>
</section>
</section>
<section id="warp-level-operations">
<h2>
<span class="section-number">15.6. </span>Warp-level Operations<a class="headerlink" href="index.html#warp-level-operations" title="Permalink to this headline"></a>
</h2>
<section id="barrier-synchronization">
<h3>
<span class="section-number">15.6.1. </span>Barrier Synchronization<a class="headerlink" href="index.html#barrier-synchronization" title="Permalink to this headline"></a>
</h3>
<p>The following intrinsic performs a barrier synchronization among a subset of threads in a warp.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare void @llvm.nvvm.bar.warp.sync(i32 %membermask)
</pre></div>
</div>
<p>This intrinsic causes executing thread to wait until all threads corresponding to <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> have executed the same intrinsic with the same <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> value before resuming execution.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%membership</span></code> is a 32bit mask, with each bit corresponding to a lane in the warp. 1 means the thread is in the subset.</p>
<p>The behavior of this intrinsic is undefined if the executing thread is not in the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">compute_62</span></code> or below, all threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> must call the same <code class="docutils literal notranslate"><span class="pre">@llvm.nvvm.bar.warp.sync()</span></code> in convergence, and only threads belonging to the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> can be active when the intrinsic is called. Otherwise, the behavior is undefined.</p>
</section>
<section id="data-movement">
<h3>
<span class="section-number">15.6.2. </span>Data Movement<a class="headerlink" href="index.html#data-movement" title="Permalink to this headline"></a>
</h3>
<p>The following intrinsic synchronizes a subset of threads in a warp and then performs data movement among these threads.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare {i32, i1} @llvm.nvvm.shfl.sync.i32(i32 %membermask, i32 %mode, i32 %a, i32 %b, i32 %c)
</pre></div>
</div>
<p>This intrinsic causes executing thread to wait until all threads corresponding to <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> have executed the same intrinsic with the same <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> value before reading data from other threads in the same warp.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%membership</span></code> is a 32bit mask, with each bit corresponding to a lane in the warp. 1 means the thread is in the subset.</p>
<p>Each thread in the currently executing warp will compute a source lane index j based on input arguments <code class="docutils literal notranslate"><span class="pre">%b</span></code>, <code class="docutils literal notranslate"><span class="pre">%c</span></code>, and <code class="docutils literal notranslate"><span class="pre">%mode</span></code>. If the computed source lane index j is in range, the returned <code class="docutils literal notranslate"><span class="pre">i32</span></code> value will be the value of <code class="docutils literal notranslate"><span class="pre">%a</span></code> from lane j; otherwise, it will be the the value of <code class="docutils literal notranslate"><span class="pre">%a</span></code> from the current thread. If the thread corresponding to lane j is inactive, then the returned <code class="docutils literal notranslate"><span class="pre">i32</span></code> value is undefined. The returned <code class="docutils literal notranslate"><span class="pre">i1</span></code> value is set to 1 if the source lane j is in range, and otherwise set to 0.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%mode</span></code> must be a constant and its encoding is specified in the following table.</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 53%">
<col style="width: 47%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>IDX</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>UP</p></td>
</tr>
<tr class="row-even">
<td><p>2</p></td>
<td><p>DOWN</p></td>
</tr>
<tr class="row-odd">
<td><p>3</p></td>
<td><p>BFLY</p></td>
</tr>
</tbody>
</table>
<p>Argument <code class="docutils literal notranslate"><span class="pre">%b</span></code> specifies a source lane or source lane offset, depending on <code class="docutils literal notranslate"><span class="pre">%mode</span></code>.</p>
<p>Argument <code class="docutils literal notranslate"><span class="pre">%c</span></code> contains two packed values specifying a mask for logically splitting warps into sub-segments and an upper bound for clamping the source lane index.</p>
<p>The following pseudo code illustrates the semantics of this intrinsic.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>wait until all threads in %membermask have arrived;

%lane[4:0] = current_lane_id; // position of thread in warp
%bval[4:0] = %b[4:0]; // source lane or lane offset (0..31)
%cval[4:0] = %c[4:0]; // clamp value
%mask[4:0] = %c[12:8];

%maxLane = (%lane[4:0] &amp; %mask[4:0]) | (%cval[4:0] &amp; ~%mask[4:0]);
%minLane = (%lane[4:0] &amp; %mask[4:0]);
switch (%mode) {
case UP: %j = %lane - %bval; %pval = (%j &gt;= %maxLane); break;
case DOWN: %j = %lane + %bval; %pval = (%j &lt;= %maxLane); break;
case BFLY: %j = %lane ^ %bval; %pval = (%j &lt;= %maxLane); break;
case IDX: %j = %minLane | (%bval[4:0] &amp; ~%mask[4:0]); %pval = (%j &lt;= %maxLane); break;
}
if (!%pval) %j = %lane; // copy from own lane
if (thread at lane %j is active)
   %d = %a from lane %j
else
   %d = undef
return {%d, %pval}
</pre></div>
</div>
<p>Note that the return values are undefined if the thread at the source lane is not in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>The behavior of this intrinsic is undefined if the executing thread is not in the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">compute_62</span></code> or below, all threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> must call the same <code class="docutils literal notranslate"><span class="pre">@llvm.nvvm.shfl.sync.i32()</span></code> in convergence, and only threads belonging to the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> can be active when the intrinsic is called. Otherwise, the behavior is undefined.</p>
</section>
<section id="vote">
<h3>
<span class="section-number">15.6.3. </span>Vote<a class="headerlink" href="index.html#vote" title="Permalink to this headline"></a>
</h3>
<p>The following intrinsic synchronizes a subset of threads in a warp and then performs a reduce-and-broadcast of a predicate over all threads in the subset.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare {i32, i1} @llvm.nvvm.vote.sync(i32 %membermask, i32 %mode, i1 %predicate)
</pre></div>
</div>
<p>This intrinsic causes executing thread to wait until all threads corresponding to <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> have executed the same intrinsic with the same <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> value before performing a reduce-and-broadcast of a predicate over all threads in the subset.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> is a 32-bit mask, with each bit corresponding to a lane in the warp. 1 means the thread is in the subset.</p>
<p><code class="docutils literal notranslate"><span class="pre">@llvm.nvvm.vote.sync()</span></code> performs a reduction of the source <code class="docutils literal notranslate"><span class="pre">%predicate</span></code> across all threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> after the synchronization. The return value is the same across all threads in the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>. The element in the returned aggregate that holds the return value depends on <code class="docutils literal notranslate"><span class="pre">%mode</span></code>.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%mode</span></code> must be a constant and its encoding is specified in the following table.</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 9%">
<col style="width: 8%">
<col style="width: 84%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Meaning</p></th>
<th class="head"><p>return value</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>ALL</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">i1:</span></code>1 if the source predicates is 1 for all thread in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>, 0 otherwise</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>ANY</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">i1:</span></code>1 if the source predicate is 1 for any thread in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>, 0 otherwise</p></td>
</tr>
<tr class="row-even">
<td><p>2</p></td>
<td><p>EQ</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">i1:</span></code>1 if the source predicates are the same for all thread in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>, 0 otherwise</p></td>
</tr>
<tr class="row-odd">
<td><p>3</p></td>
<td><p>BALLOT</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">i32:</span></code>ballot data, containing the <code class="docutils literal notranslate"><span class="pre">%predicate</span></code> value from each thread in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code></p></td>
</tr>
</tbody>
</table>
<p>For the <code class="docutils literal notranslate"><span class="pre">BALLOT</span></code> mode, the <code class="docutils literal notranslate"><span class="pre">i32</span></code> value represents the ballot data, which contains the <code class="docutils literal notranslate"><span class="pre">%predicate</span></code> value from each thread in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> in the bit position corresponding to the thread’s land id. The bit value corresponding to a thread not in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> is 0.</p>
<p>Note that the return values are undefined if the thread at the source lane is not in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>The behavior of this intrinsic is undefined if the executing thread is not in the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>For <code class="docutils literal notranslate"><span class="pre">compute_62</span></code> or below, all threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> must call the same <code class="docutils literal notranslate"><span class="pre">@llvm.nvvm.vote.sync()</span></code> in convergence, and only threads belonging to the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> can be active when the intrinsic is called. Otherwise, the behavior is undefined.</p>
</section>
<section id="match">
<h3>
<span class="section-number">15.6.4. </span>Match<a class="headerlink" href="index.html#match" title="Permalink to this headline"></a>
</h3>
<p>The following intrinsics synchronize a subset of threads in a warp and then broadcast and compare a value across threads in the subset.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare i32 @llvm.nvvm.match.any.sync.i32(i32 %membermask, i32 %value)
declare i32 @llvm.nvvm.match.any.sync.i64(i32 %membermask, i64 %value)
declare {i32, i1} @llvm.nvvm.match.all.sync.i32(i32 %membermask, i32 %value)
declare {i32, i1} @llvm.nvvm.match.all.sync.i64(i32 %membermask, i64 %value)
</pre></div>
</div>
<p>These intrinsics cause executing thread to wait until all threads corresponding to <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> have executed the same intrinsic with the same <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> value before performing broadcast and compare of operand <code class="docutils literal notranslate"><span class="pre">%value</span></code> across all threads in the subset.</p>
<p>The argument <code class="docutils literal notranslate"><span class="pre">%membership</span></code> is a 32bit mask, with each bit corresponding to a lane in the warp. 1 means the thread is in the subset.</p>
<p>The <code class="docutils literal notranslate"><span class="pre">i32</span></code> return value is a 32-bit mask where bit position in mask corresponds to thread’s laneid.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">any</span></code> version, the <code class="docutils literal notranslate"><span class="pre">i32</span></code> return value is set to the mask of active threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> that have same value as operand <code class="docutils literal notranslate"><span class="pre">%value</span></code>.</p>
<p>In the <code class="docutils literal notranslate"><span class="pre">all</span></code> version, if all active threads in <code class="docutils literal notranslate"><span class="pre">%membermask</span></code> have same value as operand <code class="docutils literal notranslate"><span class="pre">%value</span></code>, the <code class="docutils literal notranslate"><span class="pre">i32</span></code> return value is set to <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>, and the <code class="docutils literal notranslate"><span class="pre">i1</span></code> value is set to 1. Otherwise, the <code class="docutils literal notranslate"><span class="pre">i32</span></code> return value is set to 0 and the <code class="docutils literal notranslate"><span class="pre">i1</span></code> return value is also set to 0.</p>
<p>The behavior of this intrinsic is undefined if the executing thread is not in the <code class="docutils literal notranslate"><span class="pre">%membermask</span></code>.</p>
<p>These intrinsics are only available on <code class="docutils literal notranslate"><span class="pre">compute_70</span></code> or higher.</p>
</section>
<section id="matrix-operation">
<h3>
<span class="section-number">15.6.5. </span>Matrix Operation<a class="headerlink" href="index.html#matrix-operation" title="Permalink to this headline"></a>
</h3>
<p>THIS IS PREVIEW FEATURE. SUPPORT MAY BE REMOVED IN FUTURE RELEASES.</p>
<p>NVVM provides warp-level intrinsics for matrix multiply operations. The core operation is a matrix multiply and accumulate of the form:</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>D = A*B + C, or
C = A*B + C
</pre></div>
</div>
<p>where <code class="docutils literal notranslate"><span class="pre">A</span></code> is an <code class="docutils literal notranslate"><span class="pre">MxK</span></code> matrix, <code class="docutils literal notranslate"><span class="pre">B</span></code> is a <code class="docutils literal notranslate"><span class="pre">KxN</span></code> matrix, while <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">D</span></code> are <code class="docutils literal notranslate"><span class="pre">MxN</span></code> matrices. <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">D</span></code> are also called accumulators. The element type of the <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> matrices is 16-bit floating point. The element type of the accumulators can be either 32-bit floating point or 16-bit floating point.</p>
<p>All threads in a warp will collectively hold the contents of each matrix <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code>, <code class="docutils literal notranslate"><span class="pre">C</span></code> and <code class="docutils literal notranslate"><span class="pre">D</span></code>. Each thread will hold only a fragment of matrix <code class="docutils literal notranslate"><span class="pre">A</span></code>, a fragment of matrix <code class="docutils literal notranslate"><span class="pre">B</span></code>, a fragment of matrix <code class="docutils literal notranslate"><span class="pre">C</span></code>, and a fragment of the result matrix <code class="docutils literal notranslate"><span class="pre">D</span></code>. How the elements of a matrix are distributed among the fragments is opaque to the user and is different for matrix <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and the accumulator.</p>
<p>A fragment is represented by a sequence of element values. For fp32 matrices, the element type is <code class="docutils literal notranslate"><span class="pre">float</span></code>. For fp16 matrices, the element type is <code class="docutils literal notranslate"><span class="pre">i32</span></code> (each <code class="docutils literal notranslate"><span class="pre">i32</span></code> value holds two fp16 values). The number of elements varies with the shape of the matrix.</p>
<section id="load-fragments">
<h4>
<span class="section-number">15.6.5.1. </span>Load Fragments<a class="headerlink" href="index.html#load-fragments" title="Permalink to this headline"></a>
</h4>
<p>The following intrinsics synchronize all threads in a warp and then load a fragment of a matrix for each thread.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>; load fragment A
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m16n16k16.ld.a.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m32n8k16.ld.a.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m8n32k16.ld.a.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);

; load fragment B
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m16n16k16.ld.b.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m32n8k16.ld.b.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32, i32, i32, i32, i32} @llvm.nvvm.hmma.m8n32k16.ld.b.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);

; load fragment C
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m16n16k16.ld.c.f32.p&lt;n&gt;f32(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m32n8k16.ld.c.f32.p&lt;n&gt;f32(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m8n32k16.ld.c.f32.p&lt;n&gt;f32(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);

; load fragment C
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m16n16k16.ld.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m32n8k16.ld.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m8n32k16.ld.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol);
</pre></div>
</div>
<p>These intrinsics load and return a matrix fragment from memory at location <code class="docutils literal notranslate"><span class="pre">%ptr</span></code>. The matrix in memory must be in a canonical matrix layout with leading dimension <code class="docutils literal notranslate"><span class="pre">%ldm</span></code>. <code class="docutils literal notranslate"><span class="pre">%rowcol</span></code> specifies which the matrix in memory is row-major (0) or column-major (1). <code class="docutils literal notranslate"><span class="pre">%rowcol</span></code> must be a constant value.</p>
<p>The returned sequence of values represent the fragment held by the calling thread. How the elements of a matrix are distributed among the fragments is opaque to the user and is different for matrix <code class="docutils literal notranslate"><span class="pre">A</span></code>, <code class="docutils literal notranslate"><span class="pre">B</span></code> and the accumulator. Therefore, three variants (i.e. <code class="docutils literal notranslate"><span class="pre">ld.a</span></code>, <code class="docutils literal notranslate"><span class="pre">ld.b</span></code>, and <code class="docutils literal notranslate"><span class="pre">ld.c</span></code>) are provided.</p>
<p>These intrinsics are overloaded based on the address spaces. The address space number <code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code> must be either 0 (generic), 1 (global) or 3 (shared).</p>
<p>The behavior of this intrinsic is undefined if any thread in the warp has exited.</p>
<p>These intrinsics are only available on <code class="docutils literal notranslate"><span class="pre">compute_70</span></code> or higher.</p>
</section>
<section id="store-fragments">
<h4>
<span class="section-number">15.6.5.2. </span>Store Fragments<a class="headerlink" href="index.html#store-fragments" title="Permalink to this headline"></a>
</h4>
<p>The following intrinsics synchronize all threads in a warp and then store a fragment of a matrix for each thread.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>; The last 8 arguments are the elements of the C fragment
declare void @llvm.nvvm.hmma.m16n16k16.st.c.f32.p&lt;n&gt;float(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, float, float, float, float, float, float, float, float);
declare void @llvm.nvvm.hmma.m32n8k16.st.c.f32.p&lt;n&gt;float(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, float, float, float, float, float, float, float, float);
declare void @llvm.nvvm.hmma.m8n32k16.st.c.f32.p&lt;n&gt;float(float addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, float, float, float, float, float, float, float, float);

; The last 4 arguments are the elements of the C fragment
declare void @llvm.nvvm.hmma.m16n16k16.st.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, i32, i32, i32, i32);
declare void @llvm.nvvm.hmma.m32n8k16.st.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, i32, i32, i32, i32);
declare void @llvm.nvvm.hmma.m8n32k16.st.c.f16.p&lt;n&gt;i32(i32 addrspace(&lt;n&gt;)* %ptr, i32 %ldm, i32 %rowcol, i32, i32, i32, i32);
</pre></div>
</div>
<p>These intrinsics store an accumulator fragment to memory at location <code class="docutils literal notranslate"><span class="pre">%ptr</span></code>. The matrix in memory must be in a canonical matrix layout with leading dimension <code class="docutils literal notranslate"><span class="pre">%ldm</span></code>. <code class="docutils literal notranslate"><span class="pre">%rowcol</span></code> specifies which the matrix in memory is row-major (0) or column-major (1). <code class="docutils literal notranslate"><span class="pre">%rowcol</span></code> must be a constant value.</p>
<p>These intrinsics are overloaded based on the address spaces. The address space number <code class="docutils literal notranslate"><span class="pre">&lt;n&gt;</span></code> must be either 0 (generic), 1 (global) or 3 (shared).</p>
<p>The behavior of this intrinsic is undefined if any thread in the warp has exited.</p>
<p>These intrinsics are only available on <code class="docutils literal notranslate"><span class="pre">compute_70</span></code> or higher.</p>
</section>
<section id="matrix-multiply-and-accumulate">
<h4>
<span class="section-number">15.6.5.3. </span>Matrix Multiply-and-Accumulate<a class="headerlink" href="index.html#matrix-multiply-and-accumulate" title="Permalink to this headline"></a>
</h4>
<p>The following intrinsics synchronize all threads in a warp and then perform a matrix multiply-and-accumulate operation.</p>
<div class="highlight-text notranslate">
<div class="highlight"><pre><span></span>declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m16n16k16.mma.f16.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m32n8k16.mma.f16.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m8n32k16.mma.f16.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);

declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m16n16k16.mma.f32.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m32n8k16.mma.f32.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m8n32k16.mma.f32.f16(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, i32 %c0, i32 %c1, i32 %c2, i32 %c3);

declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m16n16k16.mma.f32.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m32n8k16.mma.f32.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);
declare {float, float, float, float, float, float, float, float} @llvm.nvvm.hmma.m8n32k16.mma.f32.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);

declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m16n16k16.mma.f16.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m32n8k16.mma.f16.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);
declare {i32, i32, i32, i32} @llvm.nvvm.hmma.m8n32k16.mma.f16.f32(i32 %rowcol, i32 %satf, i32 %a0, i32 %a1, i32 %a2, i32 %a3, i32 %a4, i32 %a5, i32 %a6, i32 %a7, i32 %b0, i32 %b1, i32 %b2, i32 %b3, i32 %b4, i32 %b5, i32 %b6, i32 %b7, float %c0, float %c1, float %c2, float %c3, float %c4, float %c5, float %c6, float %c7);
</pre></div>
</div>
<p>These intrinsics perform a matrix multiply-and-accumulate operation. <code class="docutils literal notranslate"><span class="pre">%rowcol</span></code> specifies the layout of <code class="docutils literal notranslate"><span class="pre">A</span></code> and <code class="docutils literal notranslate"><span class="pre">B</span></code> fragments. It must be a constant value, which can have the following values and semantics.</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 13%">
<col style="width: 87%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Encoding</p></th>
<th class="head"><p>Meaning</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td><p>0</p></td>
<td><p>A fragment is row-major, B fragment is row-major</p></td>
</tr>
<tr class="row-odd">
<td><p>1</p></td>
<td><p>A fragment is row-major, B fragment is column-major</p></td>
</tr>
<tr class="row-even">
<td><p>2</p></td>
<td><p>A fragment is column-major, B fragment is row-major</p></td>
</tr>
<tr class="row-odd">
<td><p>3</p></td>
<td><p>A fragment is column-major, B fragment is column-major</p></td>
</tr>
</tbody>
</table>
<p>Support for <code class="docutils literal notranslate"><span class="pre">%satf</span></code> has been removed and this operand must be a constant zero.</p>
<p>The behavior of these intrinsics are undefined if any thread in the warp has exited.</p>
<p>These intrinsics are only available on <code class="docutils literal notranslate"><span class="pre">compute_70</span></code> or higher.</p>
</section>
</section>
</section>
</section>
<section id="source-level-debugging-support">
<h1>
<span class="section-number">16. </span>Source Level Debugging Support<a class="headerlink" href="index.html#source-level-debugging-support" title="Permalink to this headline"></a>
</h1>
<p>To enable source level debugging of an IR module, NVVM IR supports debug intrinsics and debug information descriptors to express the debugging information. Debug information descriptors are represented using specialized metadata nodes. The current NVVM IR debug metadata version is 3.1.</p>
<p>The current NVVM IR debugging support is based on that in LLVM 7.0.1. For the complete semantics of the IR, readers of this chapter should check the official LLVM IR specialized metadata nodes documentation (<a class="reference external" href="https://releases.llvm.org/7.0.1/docs/LangRef.html#specialized-metadata-nodes">https://releases.llvm.org/7.0.1/docs/LangRef.html#specialized-metadata-nodes</a>) and the Source Level Debugging with LLVM Manual (<a class="reference external" href="https://releases.llvm.org/7.0.1/docs/SourceLevelDebugging.html">https://releases.llvm.org/7.0.1/docs/SourceLevelDebugging.html</a>).</p>
<p>The following metadata nodes need to be present in the module when debugging support is requested:</p>
<ul class="simple">
<li><p>Named metadata node <code class="docutils literal notranslate"><span class="pre">!llvm.dbg.cu</span></code></p></li>
<li><p>Module flags metadata for <code class="docutils literal notranslate"><span class="pre">"Debug</span> <span class="pre">Info</span> <span class="pre">Version"</span></code> flag: The <em>behavior</em> flag should be <code class="docutils literal notranslate"><span class="pre">Error</span></code>. The value of the flag should be <code class="docutils literal notranslate"><span class="pre">DEBUG_METADATA_VERSION</span></code> in LLVM 7.0.1, which is 3.</p></li>
<li><p>Named metadata <code class="docutils literal notranslate"><span class="pre">!nvvmir.version</span></code> containing a metadata node with the NVVM IR major and minor version values followed by the NVVM IR debug metadata major and minor version values. The current NVVM IR debug metadata version is 3.1.</p></li>
<li>
<p>The debug resolution (e.g., full, line info only) is controlled by the DICompileUnit’s <code class="docutils literal notranslate"><span class="pre">emissionKind</span></code> field:</p>
<ul>
<li><p><code class="docutils literal notranslate"><span class="pre">FullDebug</span> <span class="pre">(value:</span> <span class="pre">1)</span></code>: Generate symbolic debug and line information. This requires the libNVVM <code class="docutils literal notranslate"><span class="pre">-g</span></code> option to be specified at compile time.</p></li>
<li><p><code class="docutils literal notranslate"><span class="pre">DebugDirectivesOnly</span> <span class="pre">(value:</span> <span class="pre">3)</span></code>: Generate line information.</p></li>
</ul>
</li>
</ul>
<p>Source level debugging is supported only for a single debug compile unit. If there are multiple input NVVM IR modules, at most one module may have a single debug compile unit.</p>
</section>
<section id="nvvm-abi-for-ptx">
<h1>
<span class="section-number">17. </span>NVVM ABI for PTX<a class="headerlink" href="index.html#nvvm-abi-for-ptx" title="Permalink to this headline"></a>
</h1>
<section id="id1">
<h2>
<span class="section-number">17.1. </span>Linkage Types<a class="headerlink" href="index.html#id1" title="Permalink to this headline"></a>
</h2>
<p>The following table provides the mapping of NVVM IR linkage types associated with functions and global variables to PTX linker directives .</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 42%">
<col style="width: 20%">
<col style="width: 38%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>LLVM Linkage Type</p></th>
<th class="head"></th>
<th class="head"><p>PTX Linker Directive</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">private</span></code>, <code class="docutils literal notranslate"><span class="pre">internal</span></code></p></td>
<td><p>This is the default linkage type and does not require a linker directive.</p></td>
</tr>
<tr class="row-odd">
<td rowspan="4"><p><code class="docutils literal notranslate"><span class="pre">external</span></code></p></td>
<td><p>Function with definition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.visible</span></code></p></td>
</tr>
<tr class="row-even">
<td colspan="2"><p>Global variable with initialization</p></td>
</tr>
<tr class="row-odd">
<td><p>Function without definition</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.extern</span></code></p></td>
</tr>
<tr class="row-even">
<td colspan="2"><p>Global variable without initialization</p></td>
</tr>
<tr class="row-odd">
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">common</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.common</span></code> for the global address space, otherwise <code class="docutils literal notranslate"><span class="pre">.weak</span></code></p></td>
</tr>
<tr class="row-even">
<td colspan="2"><p><code class="docutils literal notranslate"><span class="pre">available_externally</span></code>, <code class="docutils literal notranslate"><span class="pre">linkonce</span></code>, <code class="docutils literal notranslate"><span class="pre">linkonce_odr</span></code>, <code class="docutils literal notranslate"><span class="pre">weak</span></code>, <code class="docutils literal notranslate"><span class="pre">weak_odr</span></code></p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.weak</span></code></p></td>
</tr>
<tr class="row-odd">
<td colspan="2"><p>All other linkage types</p></td>
<td><p>Not supported.</p></td>
</tr>
</tbody>
</table>
</section>
<section id="parameter-passing-and-return">
<h2>
<span class="section-number">17.2. </span>Parameter Passing and Return<a class="headerlink" href="index.html#parameter-passing-and-return" title="Permalink to this headline"></a>
</h2>
<p>The following table shows the mapping of function argument and return types in NVVM IR to PTX types.</p>
<table class="table-no-stripes docutils align-default">
<colgroup>
<col style="width: 21%">
<col style="width: 9%">
<col style="width: 70%">
</colgroup>
<thead>
<tr class="row-odd">
<th class="head"><p>Source Type</p></th>
<th class="head"><p>Size in Bits</p></th>
<th class="head"><p>PTX Type</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even">
<td rowspan="2"><p>Integer types</p></td>
<td><p>&lt;= 32</p></td>
<td>
<p><code class="docutils literal notranslate"><span class="pre">.u32</span></code> or <code class="docutils literal notranslate"><span class="pre">.b32</span></code> (zero-extended if unsigned)</p>
<p><code class="docutils literal notranslate"><span class="pre">.s32</span></code> or <code class="docutils literal notranslate"><span class="pre">.b32</span></code> (sign-extended if signed)</p>
</td>
</tr>
<tr class="row-odd">
<td><p>64</p></td>
<td>
<p><code class="docutils literal notranslate"><span class="pre">.u64</span></code> or <code class="docutils literal notranslate"><span class="pre">.b64</span></code> (if unsigned)</p>
<p><code class="docutils literal notranslate"><span class="pre">.s64</span></code> or <code class="docutils literal notranslate"><span class="pre">.b64</span></code> (if signed)</p>
</td>
</tr>
<tr class="row-even">
<td><p>Pointer types (without <code class="docutils literal notranslate"><span class="pre">byval</span></code> attribute)</p></td>
<td><p>32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.u32</span></code> or <code class="docutils literal notranslate"><span class="pre">.b32</span></code></p></td>
</tr>
<tr class="row-odd">
<td></td>
<td><p>64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.u64</span></code> or <code class="docutils literal notranslate"><span class="pre">.b64</span></code></p></td>
</tr>
<tr class="row-even">
<td rowspan="2"><p>Floating-point types</p></td>
<td><p>32</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.f32</span></code> or <code class="docutils literal notranslate"><span class="pre">.b32</span></code></p></td>
</tr>
<tr class="row-odd">
<td><p>64</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">.f64</span></code> or <code class="docutils literal notranslate"><span class="pre">.b64</span></code></p></td>
</tr>
<tr class="row-even">
<td><p>Aggregate types</p></td>
<td><p>Any size</p></td>
<td>
<p><code class="docutils literal notranslate"><span class="pre">.align</span></code><em>align</em> <code class="docutils literal notranslate"><span class="pre">.b8</span></code><em>name</em>[<em>size</em>]</p>
<p>Where <em>align</em> is overall aggregate or vector alignment in bytes, <em>name</em> is variable name associated with aggregate or vector, and <em>size</em> is the aggregate or vector size in bytes.</p>
</td>
</tr>
<tr class="row-odd">
<td><p>Pointer types to aggregate with <code class="docutils literal notranslate"><span class="pre">byval</span></code> attribute</p></td>
<td><p>32 or 64</p></td>
<td rowspan="2"></td>
</tr>
<tr class="row-even">
<td><p>Vector type</p></td>
<td><p>Any size</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section id="revision-history">
<h1>
<span class="section-number">18. </span>Revision History<a class="headerlink" href="index.html#revision-history" title="Permalink to this headline"></a>
</h1>
<p><strong>Version 1.0</strong></p>
<ul class="simple">
<li><p>Initial Release.</p></li>
</ul>
<p><strong>Version 1.1</strong></p>
<ul class="simple">
<li><p>Added support for UVM managed variables in global property annotation. See <a class="reference external" href="index.html#supported-properties">Supported Properties</a>.</p></li>
</ul>
<p><strong>Version 1.2</strong></p>
<ul class="simple">
<li><p>Update to LLVM 3.4 for CUDA 7.0.</p></li>
<li><p>Remove address space intrinsics in favor of <code class="docutils literal notranslate"><span class="pre">addrspacecast</span></code>.</p></li>
<li><p>Add information about source level debugging support.</p></li>
</ul>
<p><strong>Version 1.3</strong></p>
<ul class="simple">
<li><p>Add support for LLVM 3.8 for CUDA 8.0.</p></li>
</ul>
<p><strong>Version 1.4</strong></p>
<ul class="simple">
<li><p>Add support for warp-level intrinsics.</p></li>
</ul>
<p><strong>Version 1.5</strong></p>
<ul class="simple">
<li><p>Add support for LLVM 5.0 for CUDA 9.2.</p></li>
</ul>
<p><strong>Version 1.6</strong></p>
<ul class="simple">
<li><p>Update to LLVM 7.0.1 for CUDA 11.2.</p></li>
</ul>
<p><strong>Version 1.7</strong></p>
<ul class="simple">
<li><p>Add support for alloca with dynamic size.</p></li>
</ul>
<p><strong>Version 1.8</strong></p>
<ul class="simple">
<li><p>Add support for i128 in data layout.</p></li>
</ul>
<p><strong>Version 1.9</strong></p>
<ul class="simple">
<li><p>Modified text about ignoring shared variable initializations.</p></li>
</ul>
<p><strong>Version 1.10</strong></p>
<ul class="simple">
<li><p>Added support for grid_constant kernel parameters for CUDA 11.7.</p></li>
</ul>
<p><strong>Version 1.11</strong></p>
<ul class="simple">
<li><p>Added support for Hopper+ cluster intrinsics and max_blocks_per_cluster kernel property for CUDA 11.8.</p></li>
<li><p>Deprecated support for 32-bit compilation.</p></li>
</ul>
<p><strong>Version 2.0</strong></p>
<ul class="simple">
<li><p>Updated the NVVM IR to version 2.0 which is incompatible with NVVM IR version 1.x</p></li>
<li><p>Removed address space conversion intrinsics. The IR verifier on 2.0 IR will give an error when these intrinsics are present. Clients of libNVVM are advised to use addrspacecast instruction instead.</p></li>
<li><p>Stricter error checking on the supported datalayouts.</p></li>
<li><p>Older style loop unroll pragma metadata on loop backedges is no longer supported. Clients are advised to use the newer loop pragma metadata defined by the LLVM framework.</p></li>
<li><p>Shared variable initialization with non-undef values is no longer supported. In 1.x versions these initializers were ignored silently. This feature makes the 2.0 version incompatible with 1.x versions.</p></li>
</ul>
</section>
<section id="notices">
<h1>
<span class="section-number">19. </span>Notices<a class="headerlink" href="index.html#notices" title="Permalink to this headline"></a>
</h1>
<section id="notice">
<h2>
<span class="section-number">19.1. </span>Notice<a class="headerlink" href="index.html#notice" title="Permalink to this headline"></a>
</h2>
<p>This document is provided for information purposes only and shall not be regarded as a warranty of a certain functionality, condition, or quality of a product. NVIDIA Corporation (“NVIDIA”) makes no representations or warranties, expressed or implied, as to the accuracy or completeness of the information contained in this document and assumes no responsibility for any errors contained herein. NVIDIA shall have no liability for the consequences or use of such information or for any infringement of patents or other rights of third parties that may result from its use. This document is not a commitment to develop, release, or deliver any Material (defined below), code, or functionality.</p>
<p>NVIDIA reserves the right to make corrections, modifications, enhancements, improvements, and any other changes to this document, at any time without notice.</p>
<p>Customer should obtain the latest relevant information before placing orders and should verify that such information is current and complete.</p>
<p>NVIDIA products are sold subject to the NVIDIA standard terms and conditions of sale supplied at the time of order acknowledgement, unless otherwise agreed in an individual sales agreement signed by authorized representatives of NVIDIA and customer (“Terms of Sale”). NVIDIA hereby expressly objects to applying any customer general terms and conditions with regards to the purchase of the NVIDIA product referenced in this document. No contractual obligations are formed either directly or indirectly by this document.</p>
<p>NVIDIA products are not designed, authorized, or warranted to be suitable for use in medical, military, aircraft, space, or life support equipment, nor in applications where failure or malfunction of the NVIDIA product can reasonably be expected to result in personal injury, death, or property or environmental damage. NVIDIA accepts no liability for inclusion and/or use of NVIDIA products in such equipment or applications and therefore such inclusion and/or use is at customer’s own risk.</p>
<p>NVIDIA makes no representation or warranty that products based on this document will be suitable for any specified use. Testing of all parameters of each product is not necessarily performed by NVIDIA. It is customer’s sole responsibility to evaluate and determine the applicability of any information contained in this document, ensure the product is suitable and fit for the application planned by customer, and perform the necessary testing for the application in order to avoid a default of the application or the product. Weaknesses in customer’s product designs may affect the quality and reliability of the NVIDIA product and may result in additional or different conditions and/or requirements beyond those contained in this document. NVIDIA accepts no liability related to any default, damage, costs, or problem which may be based on or attributable to: (i) the use of the NVIDIA product in any manner that is contrary to this document or (ii) customer product designs.</p>
<p>No license, either expressed or implied, is granted under any NVIDIA patent right, copyright, or other NVIDIA intellectual property right under this document. Information published by NVIDIA regarding third-party products or services does not constitute a license from NVIDIA to use such products or services or a warranty or endorsement thereof. Use of such information may require a license from a third party under the patents or other intellectual property rights of the third party, or a license from NVIDIA under the patents or other intellectual property rights of NVIDIA.</p>
<p>Reproduction of information in this document is permissible only if approved in advance by NVIDIA in writing, reproduced without alteration and in full compliance with all applicable export laws and regulations, and accompanied by all associated conditions, limitations, and notices.</p>
<p>THIS DOCUMENT AND ALL NVIDIA DESIGN SPECIFICATIONS, REFERENCE BOARDS, FILES, DRAWINGS, DIAGNOSTICS, LISTS, AND OTHER DOCUMENTS (TOGETHER AND SEPARATELY, “MATERIALS”) ARE BEING PROVIDED “AS IS.” NVIDIA MAKES NO WARRANTIES, EXPRESSED, IMPLIED, STATUTORY, OR OTHERWISE WITH RESPECT TO THE MATERIALS, AND EXPRESSLY DISCLAIMS ALL IMPLIED WARRANTIES OF NONINFRINGEMENT, MERCHANTABILITY, AND FITNESS FOR A PARTICULAR PURPOSE. TO THE EXTENT NOT PROHIBITED BY LAW, IN NO EVENT WILL NVIDIA BE LIABLE FOR ANY DAMAGES, INCLUDING WITHOUT LIMITATION ANY DIRECT, INDIRECT, SPECIAL, INCIDENTAL, PUNITIVE, OR CONSEQUENTIAL DAMAGES, HOWEVER CAUSED AND REGARDLESS OF THE THEORY OF LIABILITY, ARISING OUT OF ANY USE OF THIS DOCUMENT, EVEN IF NVIDIA HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES. Notwithstanding any damages that customer might incur for any reason whatsoever, NVIDIA’s aggregate and cumulative liability towards customer for the products described herein shall be limited in accordance with the Terms of Sale for the product.</p>
</section>
<section id="opencl">
<h2>
<span class="section-number">19.2. </span>OpenCL<a class="headerlink" href="index.html#opencl" title="Permalink to this headline"></a>
</h2>
<p>OpenCL is a trademark of Apple Inc. used under license to the Khronos Group Inc.</p>
</section>
<section id="trademarks">
<h2>
<span class="section-number">19.3. </span>Trademarks<a class="headerlink" href="index.html#trademarks" title="Permalink to this headline"></a>
</h2>
<p>NVIDIA and the NVIDIA logo are trademarks or registered trademarks of NVIDIA Corporation in the U.S. and other countries. Other company and product names may be trademarks of the respective companies with which they are associated.</p>
</section>
</section>


           </div>
          </div>
          <footer>

  <hr>

  <div role="contentinfo">
<img src="../_static/NVIDIA-LogoBlack.svg" class="only-light">
<img src="../_static/NVIDIA-LogoWhite.svg" class="only-dark">

<p class="notices">
<a href="https://www.nvidia.com/en-us/about-nvidia/privacy-policy/" target="_blank">Privacy Policy</a>
|
<a href="https://www.nvidia.com/en-us/about-nvidia/privacy-center/" target="_blank">Manage My Privacy</a>
|
<a href="https://www.nvidia.com/en-us/preferences/start/" target="_blank">Do Not Sell or Share My Data</a>
|
<a href="https://www.nvidia.com/en-us/about-nvidia/terms-of-service/" target="_blank">Terms of Service</a>
|
<a href="https://www.nvidia.com/en-us/about-nvidia/accessibility/" target="_blank">Accessibility</a>
|
<a href="https://www.nvidia.com/en-us/about-nvidia/company-policies/" target="_blank">Corporate Policies</a>
|
<a href="https://www.nvidia.com/en-us/product-security/" target="_blank">Product Security</a>
|
<a href="https://www.nvidia.com/en-us/contact/" target="_blank">Contact</a>
</p>

<p>
  Copyright © 2012-2024, NVIDIA Corporation &amp; affiliates. All rights reserved.
</p>

    <p>
      <span class="lastupdated">Last updated on Aug 1, 2024.
      </span></p>

  </div>

   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script>
 
<script type="text/javascript">if (typeof _satellite !== "undefined"){_satellite.pageBottom();}</script>
 


<script type="text/javascript">_satellite.pageBottom();</script>
</body>
</html>
